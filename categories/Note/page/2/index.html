<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta name="theme-color" content="#123456"><title>Category: Note - Chen Yulin&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#6495ed"><meta name="application-name" content="Icarus - Hexo Theme"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="msapplication-TileColor" content="#6495ed"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Icarus - Hexo Theme"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Chen Yulin&#039;s Blog"><meta property="og:url" content="http://chen-yulin.github.io/"><meta property="og:site_name" content="Chen Yulin&#039;s Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://chen-yulin.github.io/img/og_image.png"><meta property="article:author" content="Chen Yulin"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://chen-yulin.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://chen-yulin.github.io"},"headline":"Chen Yulin's Blog","image":["http://chen-yulin.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Chen Yulin"},"publisher":{"@type":"Organization","name":"Chen Yulin's Blog","logo":{"@type":"ImageObject","url":{"light":"/img/cyllogo.png","dark":"/img/cyllogonight.png"}}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img class="logo-img" src="/img/cyllogo.png" alt="Chen Yulin&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/cyllogonight.png" alt="Chen Yulin&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">Note</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-10-10T18:38:35.000Z" title="10/11/2024, 2:38:35 AM">2024-10-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.663Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a few seconds read (About 9 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/10/11/%5BOBS%5DTC-TC501/">TC501</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>Three key points for our research:</p>
<ul>
<li>Original</li>
<li>Impactful</li>
<li>Publishable</li>
</ul>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/"><img class="fill" src="/gallery/hexo.png" alt="Hexo AI Assistant" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-10-08T13:44:56.000Z" title="10/8/2024, 9:44:56 PM">2024-10-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.680Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">6 minutes read (About 892 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/">Hexo AI Assistant</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>参见 <a target="_blank" rel="noopener" href="https://dingfen.github.io/2024/07/21/2024-7-21-ai_assist/">https://dingfen.github.io/2024/07/21/2024-7-21-ai_assist/</a></p>
<p>阿里云的大模型之前在搞wechat bot的时候接触过，这次再加上一个云函数的服务，就搞定了。<br>LLM:<a target="_blank" rel="noopener" href="https://bailian.console.aliyun.com/?spm=a2c4g.11186623.0.0.2db33048PGTSE6#/app-center">https://bailian.console.aliyun.com/?spm=a2c4g.11186623.0.0.2db33048PGTSE6#/app-center</a><br>云函数:<a target="_blank" rel="noopener" href="https://fcnext.console.aliyun.com/applications?spm=5176.fcnext.0.0.65f378c8HmZpOP">https://fcnext.console.aliyun.com/applications?spm=5176.fcnext.0.0.65f378c8HmZpOP</a></p>
<p>在本地主要需要做的是在hexo中注入代码<br>添加文件<code>scripts/injector.js</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">hexo.extend.injector.register(&#x27;body_end&#x27;,`</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">crossorigin</span> <span class="attr">href</span>=<span class="string">&quot;https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">CHATBOT_CONFIG</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">endpoint</span>: <span class="string">&quot;/chat&quot;</span>, <span class="comment">// 可以替换为 https://&#123;your-fc-http-trigger-domain&#125;/chat</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">displayByDefault</span>: <span class="literal">false</span>, <span class="comment">// 默认不展示 AI 助手聊天框</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">aiChatOptions</span>: &#123; <span class="comment">// aiChatOptions 中 options 会传递 aiChat 组件，自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">conversationOptions</span>: &#123; <span class="comment">// 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#conversation-options</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">conversationStarters</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;哪款手机续航最长？&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;你们有哪些手机型号？&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;有折叠屏手机吗?&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">displayOptions</span>: &#123; <span class="comment">// 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#display-options</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">height</span>: <span class="number">600</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">personaOptions</span>: &#123; <span class="comment">// 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#chat-personas</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">assistant</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;你好，我是你的 AI 助手&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// AI 助手的图标</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">avatar</span>: <span class="string">&#x27;https://img.alicdn.com/imgextra/i2/O1CN01Pda9nq1YDV0mnZ31H_!!6000000003025-54-tps-120-120.apng&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">tagline</span>: <span class="string">&#x27;您可以尝试点击下方的快捷入口开启体验！&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-pseudo">:root</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* webchat 工具栏的颜色 */</span></span></span><br><span class="line"><span class="language-css">    <span class="attr">--webchat-toolbar-background-color</span>: <span class="number">#1464E4</span>;</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* webchat 工具栏文字和按钮的颜色 */</span></span></span><br><span class="line"><span class="language-css">    <span class="attr">--webchat-toolbar-text-color</span>: <span class="number">#FFF</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* webchat 对话框如果被遮挡，可以尝试通过 z-index、bottom、right 等设置来调整位置 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.webchat-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* webchat 的唤起按钮如果被遮挡，可以尝试通过 z-index、bottom、right 等设置来调整位置 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.webchat-bubble-tip</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>`</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>主要要更改的是<code>window.CHATBOT_CONFIG.endpoint</code>, 改为触发器的公网访问地址<br><a href="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008193641.png" class="gallery-item"><img src="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008193641.png"></a><br>然后更改avatar，添加浮动的对话泡图标balabala</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">hexo.extend.injector.register(&#x27;body_end&#x27;,`</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">crossorigin</span> <span class="attr">href</span>=<span class="string">&quot;https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">CHATBOT_CONFIG</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">endpoint</span>: <span class="string">&quot;https://webchat-bot-iqu-knzhgrvznd.cn-hangzhou.fcapp.run/chat&quot;</span>, <span class="comment">// 可以替换为 https://&#123;your-fc-http-trigger-domain&#125;/chat</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">displayByDefault</span>: <span class="literal">false</span>, <span class="comment">// 默认不展示 AI 助手聊天框</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">aiChatOptions</span>: &#123; <span class="comment">// aiChatOptions 中 options 会传递 aiChat 组件，自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">conversationOptions</span>: &#123; <span class="comment">// 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#conversation-options</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">conversationStarters</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;你是谁？&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;博主又是谁？&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;博主喜欢的人是？&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;<span class="attr">prompt</span>: <span class="string">&#x27;想要博主联系方式！&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">displayOptions</span>: &#123; <span class="comment">// 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#display-options</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">height</span>: <span class="number">600</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">personaOptions</span>: &#123; <span class="comment">// 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#chat-personas</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">assistant</span>: &#123;          <span class="attr">name</span>: <span class="string">&#x27;博主的AI助手，十四行诗参上！&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// AI 助手的图标</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">avatar</span>: <span class="string">&#x27;https://chen-yulin.github.io/thumb/14.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">tagline</span>: <span class="string">&#x27;要不要试试问下面的问题呢？&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-pseudo">:root</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* webchat 工具栏的颜色 */</span></span></span><br><span class="line"><span class="language-css">    <span class="attr">--webchat-toolbar-background-color</span>: <span class="number">#1464E4</span>;</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* webchat 工具栏文字和按钮的颜色 */</span></span></span><br><span class="line"><span class="language-css">    <span class="attr">--webchat-toolbar-text-color</span>: <span class="number">#FFF</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* webchat 对话框如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.webchat-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* webchat 的唤起按钮如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.webchat-bubble-tip</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.webchat-bubble-tip</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">overflow</span>: visible <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@keyframes</span> float &#123;</span></span><br><span class="line"><span class="language-css">    <span class="number">0%</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0px</span>) <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="number">50%</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">10px</span>) <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="number">100%</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0px</span>) <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.webchat-bubble-tip</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">top</span>: -<span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">left</span>: <span class="number">70%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 24 24&#x27; fill=&#x27;white&#x27;%3E%3Cpath d=&#x27;M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z&#x27;/%3E%3C/svg%3E&quot;</span>);</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-repeat</span>: no-repeat;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-position</span>: center;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-size</span>: contain;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">filter</span>: <span class="built_in">drop-shadow</span>(<span class="number">0</span> <span class="number">4px</span> <span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>));</span></span><br><span class="line"><span class="language-css">    <span class="attribute">animation</span>: float <span class="number">3s</span> ease-in-out infinite;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最终效果：<br><a href="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008193811.png" class="gallery-item"><img src="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008193811.png"></a><br><a href="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008193823.png" class="gallery-item"><img src="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008193823.png"></a><br><a href="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008194013.png" class="gallery-item"><img src="/2024/10/08/%5BOBS%5Dhexo-Hexo%20AI%20Assistant/Pasted_image_20241008194013.png"></a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/"><img class="fill" src="/gallery/nvim.png" alt="Neovim Cursor (avante.nvim)" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-10-07T14:03:02.000Z" title="10/7/2024, 10:03:02 PM">2024-10-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.650Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">10 minutes read (About 1539 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/">Neovim Cursor (avante.nvim)</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>仓库地址: <a target="_blank" rel="noopener" href="https://github.com/yetone/avante.nvim">https://github.com/yetone/avante.nvim</a></p>
<h2 id="Accounts"><a href="#Accounts" class="headerlink" title="Accounts"></a>Accounts</h2><p>虚拟手机号: <a target="_blank" rel="noopener" href="https://sms-activate.io/en">https://sms-activate.io/en</a><br>（学校邮箱，密码需要大写）</p>
<p>注册Claude-chat<br>授权Claude-api(<a target="_blank" rel="noopener" href="https://console.anthropic.com/">https://console.anthropic.com/</a>)</p>
<h2 id="Apply-Claude-API"><a href="#Apply-Claude-API" class="headerlink" title="Apply Claude API"></a>Apply Claude API</h2><p><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007142632.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007142632.png"></a></p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>我使用lazy.nvim插件管理器所以非常方便，只需要在<code>lazy_setup.lua</code>里加上</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;yetone/avante.nvim&quot;</span>,</span><br><span class="line">  event = <span class="string">&quot;VeryLazy&quot;</span>,</span><br><span class="line">  lazy = <span class="literal">false</span>,</span><br><span class="line">  version = <span class="literal">false</span>, <span class="comment">-- set this if you want to always pull the latest change</span></span><br><span class="line">  opts = &#123;</span><br><span class="line">    <span class="comment">-- add any opts here</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">-- if you want to build from source then do `make BUILD_FROM_SOURCE=true`</span></span><br><span class="line">  build = <span class="string">&quot;make&quot;</span>,</span><br><span class="line">  <span class="comment">-- build = &quot;powershell -ExecutionPolicy Bypass -File Build.ps1 -BuildFromSource false&quot; -- for windows</span></span><br><span class="line">  dependencies = &#123;</span><br><span class="line">    <span class="string">&quot;nvim-treesitter/nvim-treesitter&quot;</span>,</span><br><span class="line">    <span class="string">&quot;stevearc/dressing.nvim&quot;</span>,</span><br><span class="line">    <span class="string">&quot;nvim-lua/plenary.nvim&quot;</span>,</span><br><span class="line">    <span class="string">&quot;MunifTanjim/nui.nvim&quot;</span>,</span><br><span class="line">    <span class="comment">--- The below dependencies are optional,</span></span><br><span class="line">    <span class="string">&quot;nvim-tree/nvim-web-devicons&quot;</span>, <span class="comment">-- or echasnovski/mini.icons</span></span><br><span class="line">    <span class="string">&quot;zbirenbaum/copilot.lua&quot;</span>, <span class="comment">-- for providers=&#x27;copilot&#x27;</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">-- support for image pasting</span></span><br><span class="line">      <span class="string">&quot;HakonHarnes/img-clip.nvim&quot;</span>,</span><br><span class="line">      event = <span class="string">&quot;VeryLazy&quot;</span>,</span><br><span class="line">      opts = &#123;</span><br><span class="line">        <span class="comment">-- recommended settings</span></span><br><span class="line">        default = &#123;</span><br><span class="line">          embed_image_as_base64 = <span class="literal">false</span>,</span><br><span class="line">          prompt_for_file_name = <span class="literal">false</span>,</span><br><span class="line">          drag_and_drop = &#123;</span><br><span class="line">            insert_mode = <span class="literal">true</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="comment">-- required for Windows users</span></span><br><span class="line">          use_absolute_path = <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">-- Make sure to set this up properly if you have lazy=true</span></span><br><span class="line">      <span class="string">&#x27;MeanderingProgrammer/render-markdown.nvim&#x27;</span>,</span><br><span class="line">      opts = &#123;</span><br><span class="line">        file_types = &#123; <span class="string">&quot;markdown&quot;</span>, <span class="string">&quot;Avante&quot;</span> &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      ft = &#123; <span class="string">&quot;markdown&quot;</span>, <span class="string">&quot;Avante&quot;</span> &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>lazy安装完毕之后会有报错：<br><a target="_blank" rel="noopener" href="https://github.com/yetone/avante.nvim/issues/612">https://github.com/yetone/avante.nvim/issues/612</a><br>解决方案为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.local/share/nvim/lazy/avante.nvim</span><br><span class="line">make BUILD_FROM_SOURCE=<span class="literal">true</span>  </span><br></pre></td></tr></table></figure>
<p><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007150254.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007150254.png"></a></p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>添加<code>~/.config/nvim/lua/avante.lua</code></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---<span class="doctag">NOTE:</span> user will be merged with defaults and</span></span><br><span class="line"><span class="comment">---we add a default var_accessor for this table to config values.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> Utils = <span class="built_in">require</span>(<span class="string">&quot;avante.utils&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">---@class avante.CoreConfig: avante.Config</span></span><br><span class="line"><span class="keyword">local</span> M = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">---@class avante.Config</span></span><br><span class="line">M.defaults = &#123;</span><br><span class="line">	<span class="built_in">debug</span> = <span class="literal">false</span>,</span><br><span class="line">	<span class="comment">---@alias Provider &quot;claude&quot; | &quot;openai&quot; | &quot;azure&quot; | &quot;gemini&quot; | &quot;cohere&quot; | &quot;copilot&quot; | [string]</span></span><br><span class="line">	provider = <span class="string">&quot;claude&quot;</span>, <span class="comment">-- Only recommend using Claude</span></span><br><span class="line">	auto_suggestions_provider = <span class="string">&quot;claude&quot;</span>,</span><br><span class="line">	<span class="comment">---@alias Tokenizer &quot;tiktoken&quot; | &quot;hf&quot;</span></span><br><span class="line">	<span class="comment">-- Used for counting tokens and encoding text.</span></span><br><span class="line">	<span class="comment">-- By default, we will use tiktoken.</span></span><br><span class="line">	<span class="comment">-- For most providers that we support we will determine this automatically.</span></span><br><span class="line">	<span class="comment">-- If you wish to use a given implementation, then you can override it here.</span></span><br><span class="line">	tokenizer = <span class="string">&quot;tiktoken&quot;</span>,</span><br><span class="line">	<span class="comment">---@alias AvanteSystemPrompt string</span></span><br><span class="line">	<span class="comment">-- Default system prompt. Users can override this with their own prompt</span></span><br><span class="line">	<span class="comment">-- You can use `require(&#x27;avante.config&#x27;).override(&#123;system_prompt = &quot;MY_SYSTEM_PROMPT&quot;&#125;) conditionally</span></span><br><span class="line">	<span class="comment">-- in your own autocmds to do it per directory, or that fit your needs.</span></span><br><span class="line">	system_prompt = <span class="string">[[</span></span><br><span class="line"><span class="string">Act as an expert software developer.</span></span><br><span class="line"><span class="string">Always use best practices when coding.</span></span><br><span class="line"><span class="string">Respect and use existing conventions, libraries, etc that are already present in the code base.</span></span><br><span class="line"><span class="string">]]</span>,</span><br><span class="line">	<span class="comment">---@type AvanteSupportedProvider</span></span><br><span class="line">	openai = &#123;</span><br><span class="line">		endpoint = <span class="string">&quot;https://api.openai.com/v1&quot;</span>,</span><br><span class="line">		model = <span class="string">&quot;gpt-4o&quot;</span>,</span><br><span class="line">		timeout = <span class="number">30000</span>, <span class="comment">-- Timeout in milliseconds</span></span><br><span class="line">		temperature = <span class="number">0</span>,</span><br><span class="line">		max_tokens = <span class="number">4096</span>,</span><br><span class="line">		[<span class="string">&quot;local&quot;</span>] = <span class="literal">false</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">---@type AvanteSupportedProvider</span></span><br><span class="line">	copilot = &#123;</span><br><span class="line">		endpoint = <span class="string">&quot;https://api.githubcopilot.com&quot;</span>,</span><br><span class="line">		model = <span class="string">&quot;gpt-4o-2024-05-13&quot;</span>,</span><br><span class="line">		proxy = <span class="literal">nil</span>, <span class="comment">-- [protocol://]host[:port] Use this proxy</span></span><br><span class="line">		allow_insecure = <span class="literal">false</span>, <span class="comment">-- Allow insecure server connections</span></span><br><span class="line">		timeout = <span class="number">30000</span>, <span class="comment">-- Timeout in milliseconds</span></span><br><span class="line">		temperature = <span class="number">0</span>,</span><br><span class="line">		max_tokens = <span class="number">4096</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">---@type AvanteAzureProvider</span></span><br><span class="line">	azure = &#123;</span><br><span class="line">		endpoint = <span class="string">&quot;&quot;</span>, <span class="comment">-- example: &quot;https://&lt;your-resource-name&gt;.openai.azure.com&quot;</span></span><br><span class="line">		deployment = <span class="string">&quot;&quot;</span>, <span class="comment">-- Azure deployment name (e.g., &quot;gpt-4o&quot;, &quot;my-gpt-4o-deployment&quot;)</span></span><br><span class="line">		api_version = <span class="string">&quot;2024-06-01&quot;</span>,</span><br><span class="line">		timeout = <span class="number">30000</span>, <span class="comment">-- Timeout in milliseconds</span></span><br><span class="line">		temperature = <span class="number">0</span>,</span><br><span class="line">		max_tokens = <span class="number">4096</span>,</span><br><span class="line">		[<span class="string">&quot;local&quot;</span>] = <span class="literal">false</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">---@type AvanteSupportedProvider</span></span><br><span class="line">	claude = &#123;</span><br><span class="line">		endpoint = <span class="string">&quot;https://api.anthropic.com&quot;</span>,</span><br><span class="line">		model = <span class="string">&quot;claude-3-5-sonnet-20240620&quot;</span>,</span><br><span class="line">		timeout = <span class="number">30000</span>, <span class="comment">-- Timeout in milliseconds</span></span><br><span class="line">		temperature = <span class="number">0</span>,</span><br><span class="line">		max_tokens = <span class="number">8000</span>,</span><br><span class="line">		[<span class="string">&quot;local&quot;</span>] = <span class="literal">false</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">---@type AvanteSupportedProvider</span></span><br><span class="line">	gemini = &#123;</span><br><span class="line">		endpoint = <span class="string">&quot;https://generativelanguage.googleapis.com/v1beta/models&quot;</span>,</span><br><span class="line">		model = <span class="string">&quot;gemini-1.5-flash-latest&quot;</span>,</span><br><span class="line">		timeout = <span class="number">30000</span>, <span class="comment">-- Timeout in milliseconds</span></span><br><span class="line">		temperature = <span class="number">0</span>,</span><br><span class="line">		max_tokens = <span class="number">4096</span>,</span><br><span class="line">		[<span class="string">&quot;local&quot;</span>] = <span class="literal">false</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">---@type AvanteSupportedProvider</span></span><br><span class="line">	cohere = &#123;</span><br><span class="line">		endpoint = <span class="string">&quot;https://api.cohere.com/v1&quot;</span>,</span><br><span class="line">		model = <span class="string">&quot;command-r-plus-08-2024&quot;</span>,</span><br><span class="line">		timeout = <span class="number">30000</span>, <span class="comment">-- Timeout in milliseconds</span></span><br><span class="line">		temperature = <span class="number">0</span>,</span><br><span class="line">		max_tokens = <span class="number">4096</span>,</span><br><span class="line">		[<span class="string">&quot;local&quot;</span>] = <span class="literal">false</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">---To add support for custom provider, follow the format below</span></span><br><span class="line">	<span class="comment">---See https://github.com/yetone/avante.nvim/README.md#custom-providers for more details</span></span><br><span class="line">	<span class="comment">---@type &#123;[string]: AvanteProvider&#125;</span></span><br><span class="line">	vendors = &#123;&#125;,</span><br><span class="line">	<span class="comment">---Specify the behaviour of avante.nvim</span></span><br><span class="line">	<span class="comment">---1. auto_apply_diff_after_generation: Whether to automatically apply diff after LLM response.</span></span><br><span class="line">	<span class="comment">---                                     This would simulate similar behaviour to cursor. Default to false.</span></span><br><span class="line">	<span class="comment">---2. auto_set_keymaps                : Whether to automatically set the keymap for the current line. Default to true.</span></span><br><span class="line">	<span class="comment">---                                     Note that avante will safely set these keymap. See https://github.com/yetone/avante.nvim/wiki#keymaps-and-api-i-guess for more details.</span></span><br><span class="line">	<span class="comment">---3. auto_set_highlight_group        : Whether to automatically set the highlight group for the current line. Default to true.</span></span><br><span class="line">	<span class="comment">---4. support_paste_from_clipboard    : Whether to support pasting image from clipboard. This will be determined automatically based whether img-clip is available or not.</span></span><br><span class="line">	behaviour = &#123;</span><br><span class="line">		auto_suggestions = <span class="literal">false</span>, <span class="comment">-- Experimental stage</span></span><br><span class="line">		auto_set_highlight_group = <span class="literal">true</span>,</span><br><span class="line">		auto_set_keymaps = <span class="literal">true</span>,</span><br><span class="line">		auto_apply_diff_after_generation = <span class="literal">false</span>,</span><br><span class="line">		support_paste_from_clipboard = <span class="literal">false</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	history = &#123;</span><br><span class="line">		storage_path = vim.fn.stdpath(<span class="string">&quot;state&quot;</span>) .. <span class="string">&quot;/avante&quot;</span>,</span><br><span class="line">		paste = &#123;</span><br><span class="line">			extension = <span class="string">&quot;png&quot;</span>,</span><br><span class="line">			filename = <span class="string">&quot;pasted-%Y-%m-%d-%H-%M-%S&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	highlights = &#123;</span><br><span class="line">		<span class="comment">---@type AvanteConflictHighlights</span></span><br><span class="line">		diff = &#123;</span><br><span class="line">			current = <span class="string">&quot;DiffText&quot;</span>,</span><br><span class="line">			incoming = <span class="string">&quot;DiffAdd&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	mappings = &#123;</span><br><span class="line">		<span class="comment">---@class AvanteConflictMappings</span></span><br><span class="line">		diff = &#123;</span><br><span class="line">			ours = <span class="string">&quot;co&quot;</span>,</span><br><span class="line">			theirs = <span class="string">&quot;ct&quot;</span>,</span><br><span class="line">			all_theirs = <span class="string">&quot;ca&quot;</span>,</span><br><span class="line">			both = <span class="string">&quot;cb&quot;</span>,</span><br><span class="line">			cursor = <span class="string">&quot;cc&quot;</span>,</span><br><span class="line">			<span class="built_in">next</span> = <span class="string">&quot;]x&quot;</span>,</span><br><span class="line">			prev = <span class="string">&quot;[x&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		suggestion = &#123;</span><br><span class="line">			accept = <span class="string">&quot;&lt;M-l&gt;&quot;</span>,</span><br><span class="line">			<span class="built_in">next</span> = <span class="string">&quot;&lt;M-]&gt;&quot;</span>,</span><br><span class="line">			prev = <span class="string">&quot;&lt;M-[&gt;&quot;</span>,</span><br><span class="line">			dismiss = <span class="string">&quot;&lt;C-]&gt;&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		jump = &#123;</span><br><span class="line">			<span class="built_in">next</span> = <span class="string">&quot;]]&quot;</span>,</span><br><span class="line">			prev = <span class="string">&quot;[[&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		submit = &#123;</span><br><span class="line">			normal = <span class="string">&quot;&lt;CR&gt;&quot;</span>,</span><br><span class="line">			<span class="built_in">insert</span> = <span class="string">&quot;&lt;C-s&gt;&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="comment">-- <span class="doctag">NOTE:</span> The following will be safely set by avante.nvim</span></span><br><span class="line">		ask = <span class="string">&quot;&lt;leader&gt;aa&quot;</span>,</span><br><span class="line">		edit = <span class="string">&quot;&lt;leader&gt;ae&quot;</span>,</span><br><span class="line">		refresh = <span class="string">&quot;&lt;leader&gt;ar&quot;</span>,</span><br><span class="line">		toggle = &#123;</span><br><span class="line">			default = <span class="string">&quot;&lt;leader&gt;at&quot;</span>,</span><br><span class="line">			<span class="built_in">debug</span> = <span class="string">&quot;&lt;leader&gt;ad&quot;</span>,</span><br><span class="line">			hint = <span class="string">&quot;&lt;leader&gt;ah&quot;</span>,</span><br><span class="line">			suggestion = <span class="string">&quot;&lt;leader&gt;as&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		sidebar = &#123;</span><br><span class="line">			switch_windows = <span class="string">&quot;&lt;Tab&gt;&quot;</span>,</span><br><span class="line">			reverse_switch_windows = <span class="string">&quot;&lt;S-Tab&gt;&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	windows = &#123;</span><br><span class="line">		<span class="comment">---@alias AvantePosition &quot;right&quot; | &quot;left&quot; | &quot;top&quot; | &quot;bottom&quot;</span></span><br><span class="line">		position = <span class="string">&quot;right&quot;</span>,</span><br><span class="line">		<span class="built_in">wrap</span> = <span class="literal">true</span>, <span class="comment">-- similar to vim.o.wrap</span></span><br><span class="line">		width = <span class="number">30</span>, <span class="comment">-- default % based on available width in vertical layout</span></span><br><span class="line">		height = <span class="number">30</span>, <span class="comment">-- default % based on available height in horizontal layout</span></span><br><span class="line">		sidebar_header = &#123;</span><br><span class="line">			align = <span class="string">&quot;center&quot;</span>, <span class="comment">-- left, center, right for title</span></span><br><span class="line">			rounded = <span class="literal">true</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="built_in">input</span> = &#123;</span><br><span class="line">			prefix = <span class="string">&quot;&gt; &quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		edit = &#123;</span><br><span class="line">			border = <span class="string">&quot;rounded&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">--- @class AvanteConflictConfig</span></span><br><span class="line">	diff = &#123;</span><br><span class="line">		autojump = <span class="literal">true</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">--- @class AvanteHintsConfig</span></span><br><span class="line">	hints = &#123;</span><br><span class="line">		enabled = <span class="literal">true</span>,</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">---@type avante.Config</span></span><br><span class="line">M.options = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">---@class avante.ConflictConfig: AvanteConflictConfig</span></span><br><span class="line"><span class="comment">---@field mappings AvanteConflictMappings</span></span><br><span class="line"><span class="comment">---@field highlights AvanteConflictHighlights</span></span><br><span class="line">M.diff = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">---@type Provider[]</span></span><br><span class="line">M.providers = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">---@param opts? avante.Config</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">M.setup</span><span class="params">(opts)</span></span></span><br><span class="line">	vim.validate(&#123; opts = &#123; opts, <span class="string">&quot;table&quot;</span>, <span class="literal">true</span> &#125; &#125;)</span><br><span class="line"></span><br><span class="line">	M.options = vim.tbl_deep_extend(</span><br><span class="line">		<span class="string">&quot;force&quot;</span>,</span><br><span class="line">		M.defaults,</span><br><span class="line">		opts <span class="keyword">or</span> &#123;&#125;,</span><br><span class="line">		<span class="comment">---@type avante.Config</span></span><br><span class="line">		&#123;</span><br><span class="line">			behaviour = &#123;</span><br><span class="line">				support_paste_from_clipboard = M.support_paste_image(),</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;</span><br><span class="line">	)</span><br><span class="line">	M.providers = vim.iter(M.defaults)</span><br><span class="line">		:filter(<span class="function"><span class="keyword">function</span><span class="params">(_, value)</span></span></span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">type</span>(value) == <span class="string">&quot;table&quot;</span> <span class="keyword">and</span> value.endpoint ~= <span class="literal">nil</span></span><br><span class="line">		<span class="keyword">end</span>)</span><br><span class="line">		:fold(&#123;&#125;, <span class="function"><span class="keyword">function</span><span class="params">(acc, k)</span></span></span><br><span class="line">			acc = vim.list_extend(&#123;&#125;, acc)</span><br><span class="line">			acc = vim.list_extend(acc, &#123; k &#125;)</span><br><span class="line">			<span class="keyword">return</span> acc</span><br><span class="line">		<span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">	vim.validate(&#123; provider = &#123; M.options.provider, <span class="string">&quot;string&quot;</span>, <span class="literal">false</span> &#125; &#125;)</span><br><span class="line"></span><br><span class="line">	M.diff = vim.tbl_deep_extend(</span><br><span class="line">		<span class="string">&quot;force&quot;</span>,</span><br><span class="line">		&#123;&#125;,</span><br><span class="line">		M.options.diff,</span><br><span class="line">		&#123; mappings = M.options.mappings.diff, highlights = M.options.highlights.diff &#125;</span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">next</span>(M.options.vendors) ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(M.options.vendors) <span class="keyword">do</span></span><br><span class="line">			M.options.vendors[k] = <span class="built_in">type</span>(v) == <span class="string">&quot;function&quot;</span> <span class="keyword">and</span> v() <span class="keyword">or</span> v</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		vim.validate(&#123; vendors = &#123; M.options.vendors, <span class="string">&quot;table&quot;</span>, <span class="literal">true</span> &#125; &#125;)</span><br><span class="line">		M.providers = vim.list_extend(M.providers, vim.tbl_keys(M.options.vendors))</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">---@param opts? avante.Config</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">M.override</span><span class="params">(opts)</span></span></span><br><span class="line">	vim.validate(&#123; opts = &#123; opts, <span class="string">&quot;table&quot;</span>, <span class="literal">true</span> &#125; &#125;)</span><br><span class="line"></span><br><span class="line">	M.options = vim.tbl_deep_extend(<span class="string">&quot;force&quot;</span>, M.options, opts <span class="keyword">or</span> &#123;&#125;)</span><br><span class="line">	M.diff = vim.tbl_deep_extend(</span><br><span class="line">		<span class="string">&quot;force&quot;</span>,</span><br><span class="line">		&#123;&#125;,</span><br><span class="line">		M.options.diff,</span><br><span class="line">		&#123; mappings = M.options.mappings.diff, highlights = M.options.highlights.diff &#125;</span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">next</span>(M.options.vendors) ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(M.options.vendors) <span class="keyword">do</span></span><br><span class="line">			M.options.vendors[k] = <span class="built_in">type</span>(v) == <span class="string">&quot;function&quot;</span> <span class="keyword">and</span> v() <span class="keyword">or</span> v</span><br><span class="line">			<span class="keyword">if</span> <span class="keyword">not</span> vim.tbl_contains(M.providers, k) <span class="keyword">then</span></span><br><span class="line">				M.providers = vim.list_extend(M.providers, &#123; k &#125;)</span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		vim.validate(&#123; vendors = &#123; M.options.vendors, <span class="string">&quot;table&quot;</span>, <span class="literal">true</span> &#125; &#125;)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">M = <span class="built_in">setmetatable</span>(M, &#123;</span><br><span class="line">	<span class="built_in">__index</span> = <span class="function"><span class="keyword">function</span><span class="params">(_, k)</span></span></span><br><span class="line">		<span class="keyword">if</span> M.options[k] <span class="keyword">then</span></span><br><span class="line">			<span class="keyword">return</span> M.options[k]</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">M.support_paste_image = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">	<span class="keyword">return</span> Utils.has(<span class="string">&quot;img-clip.nvim&quot;</span>) <span class="keyword">or</span> Utils.has(<span class="string">&quot;img-clip&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">M.get_window_width = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">math</span>.<span class="built_in">ceil</span>(vim.o.columns * (M.windows.width / <span class="number">100</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">---@param provider Provider</span></span><br><span class="line"><span class="comment">---@return boolean</span></span><br><span class="line">M.has_provider = <span class="function"><span class="keyword">function</span><span class="params">(provider)</span></span></span><br><span class="line">	<span class="keyword">return</span> M.options[provider] ~= <span class="literal">nil</span> <span class="keyword">or</span> M.vendors[provider] ~= <span class="literal">nil</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">---get supported providers</span></span><br><span class="line"><span class="comment">---@param provider Provider</span></span><br><span class="line"><span class="comment">---@return AvanteProviderFunctor</span></span><br><span class="line">M.get_provider = <span class="function"><span class="keyword">function</span><span class="params">(provider)</span></span></span><br><span class="line">	<span class="keyword">if</span> M.options[provider] ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">return</span> vim.deepcopy(M.options[provider], <span class="literal">true</span>)</span><br><span class="line">	<span class="keyword">elseif</span> M.vendors[provider] ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">return</span> vim.deepcopy(M.vendors[provider], <span class="literal">true</span>)</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">error</span>(<span class="string">&quot;Failed to find provider: &quot;</span> .. provider, <span class="number">2</span>)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">M.BASE_PROVIDER_KEYS = &#123;</span><br><span class="line">	<span class="string">&quot;endpoint&quot;</span>,</span><br><span class="line">	<span class="string">&quot;model&quot;</span>,</span><br><span class="line">	<span class="string">&quot;deployment&quot;</span>,</span><br><span class="line">	<span class="string">&quot;api_version&quot;</span>,</span><br><span class="line">	<span class="string">&quot;proxy&quot;</span>,</span><br><span class="line">	<span class="string">&quot;allow_insecure&quot;</span>,</span><br><span class="line">	<span class="string">&quot;api_key_name&quot;</span>,</span><br><span class="line">	<span class="string">&quot;timeout&quot;</span>,</span><br><span class="line">	<span class="comment">-- internal</span></span><br><span class="line">	<span class="string">&quot;local&quot;</span>,</span><br><span class="line">	<span class="string">&quot;_shellenv&quot;</span>,</span><br><span class="line">	<span class="string">&quot;tokenizer_id&quot;</span>,</span><br><span class="line">	<span class="string">&quot;use_xml_format&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> M</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>~/.config/nvim/init.lua</code>中添加</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&quot;plugin-config.avante&quot;</span>).setup()</span><br></pre></td></tr></table></figure>

<p>在<code>~/.bashrc</code>添加api key </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ANTHROPIC_API_KEY=*** <span class="comment">#码了</span></span><br></pre></td></tr></table></figure>
<p><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007150217.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007150217.png"></a></p>
<h2 id="Fix-Error"><a href="#Fix-Error" class="headerlink" title="Fix Error"></a>Fix Error</h2><h3 id="Error-1"><a href="#Error-1" class="headerlink" title="Error #1"></a>Error #1</h3><p>运行时出现这个报错<br><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007151413.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007151413.png"></a><br>参见 <a target="_blank" rel="noopener" href="https://github.com/yetone/avante.nvim/pull/560/files">https://github.com/yetone/avante.nvim/pull/560/files</a></p>
<p>由于这个PR没有被merge所以决定fork一下这个仓库再应用更改<br><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007154329.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007154329.png"></a><br>push到远程仓库后记得release一下</p>
<p>然后将该plugin的仓库地址改为我自己的<br><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007155603.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007155603.png"></a><br>成功消除了这个报错</p>
<h3 id="Error-2"><a href="#Error-2" class="headerlink" title="Error #2"></a>Error #2</h3><p><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007155718.png" class="gallery-item"><img src="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/Pasted_image_20241007155718.png"></a><br>没有回复<br>访问 <a target="_blank" rel="noopener" href="https://console.anthropic.com/settings/plans">https://console.anthropic.com/settings/plans</a> 发现是 没有Funds（说好的注册送5刀的额度的呢。。。）</p>
<p>使用WildCard服务 <a target="_blank" rel="noopener" href="https://bewildcard.com/card">https://bewildcard.com/card</a> ，具体账密见密码簿</p>
<h3 id="Error-3"><a href="#Error-3" class="headerlink" title="Error #3"></a>Error #3</h3><p>发现服务器无响应</p>
<ul>
<li>设置终端proxy <code>export https_proxy=127.0.0.1:7897</code></li>
<li><code>sudo conda update curl</code> to solve curl(77) error</li>
</ul>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-09-26T03:29:01.000Z" title="9/26/2024, 11:29:01 AM">2024-09-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.993Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 132 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/">论文工作流</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>参考: <a target="_blank" rel="noopener" href="https://forum-zh.obsidian.md/t/topic/292">https://forum-zh.obsidian.md/t/topic/292</a></p>
<h2 id="文献搜集网站"><a href="#文献搜集网站" class="headerlink" title="文献搜集网站"></a>文献搜集网站</h2><p><a target="_blank" rel="noopener" href="https://scholar.google.com/">Google Scholar 114</a><br><a target="_blank" rel="noopener" href="https://www.connectedpapers.com/">Connected Papers</a></p>
<blockquote>
<p>总结了各文章之间的 关联度，太直观了</p>
</blockquote>
<p><a href="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/Pasted_image_20240926122920.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/Pasted_image_20240926122920.png"></a></p>
<h2 id="文献管理软件"><a href="#文献管理软件" class="headerlink" title="文献管理软件"></a>文献管理软件</h2><h3 id="Zotero"><a href="#Zotero" class="headerlink" title="Zotero"></a>Zotero</h3><p><a href="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/Pasted_image_20240926113730.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/Pasted_image_20240926113730.png"></a><br>参考: <a target="_blank" rel="noopener" href="https://sspai.com/post/56724">https://sspai.com/post/56724</a><br>安装了<code>Firefox-Zotero</code>插件，可以直接捕获网页内容并存到Zotero Liberary中（打开pdf界面后直接点击插件按钮即可保存）<br>保存后Zotero会自行抓取论文关键信息并重新生成标题<br><a href="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/Pasted_image_20240926121814.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5D%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C%E6%B5%81/Pasted_image_20240926121814.png"></a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-09-25T16:54:42.000Z" title="9/26/2024, 12:54:42 AM">2024-09-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.690Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 200 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/">ESP32-CAM Video Stream</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>参考仓库: <a target="_blank" rel="noopener" href="https://github.com/rzeldent/esp32cam-rtsp">https://github.com/rzeldent/esp32cam-rtsp</a></p>
<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><p>Stream video through wifi using ESP-32-CAM.<br>The video sources can be accessed by an ip address.</p>
<h2 id="Implemenation"><a href="#Implemenation" class="headerlink" title="Implemenation"></a>Implemenation</h2><p>Install PlatformIO plugin in vscode.<br>Clone the repository</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/rzeldent/esp32cam-rtsp.git</span><br></pre></td></tr></table></figure>

<p>Use vscode pio to open the project. Wait pio till its configuration is done.</p>
<p>Change the <code>default_envs</code> settings, here I use <code>esp32cam_ai_thinker</code></p>
<p><a href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925170942.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925170942.png"></a></p>
<blockquote>
<p>If no <code>default_envs</code> is specified, pio will build the project for all platforms</p>
</blockquote>
<p>Here we can build and upload the program to the board.</p>
<p><a href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925171147.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925171147.png"></a></p>
<p>Connect to <code>ESP****</code> WiFi, and visit <code>http://192.168.4.1</code> to configure the wifi settings of the board. I choose to my phone’s hot spot.<br><a href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240926095320.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240926095320.png"></a></p>
<p>Then open the monitor to check the ip address (you need to connect your computer to the same LAN (local area network) to visit the ip)</p>
<p><a href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925171246.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925171246.png"></a></p>
<p>Visit the <code>192.168.23.142</code> and you will see the page (similar with the page of <code>http://192.168.4.1</code>):<br><a href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925171915.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925171915.png"></a></p>
<p>Click <code>rtsp://192.168.23.197:554/mjpeg/1</code> and you will see the streaming video:<br><a href="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925172909.png" class="gallery-item"><img src="/2024/09/26/%5BOBS%5DEmbededSystem-ESP32-CAM%20Video%20Stream/Pasted_image_20240925172909.png"></a></p>
<blockquote>
<p>生无可恋做横向.jpg</p>
</blockquote>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-09-23T11:44:27.000Z" title="9/23/2024, 7:44:27 PM">2024-09-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.707Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 223 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/23/%5BOBS%5DEmbededSystem-ESP32%20Development%20on%20Linux/">ESP32 Development on Linux</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="Standard-Toolchain-Setup"><a href="#Standard-Toolchain-Setup" class="headerlink" title="Standard Toolchain Setup"></a>Standard Toolchain Setup</h2><p>Guide: <a target="_blank" rel="noopener" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/linux-macos-setup.html#">https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/linux-macos-setup.html#</a></p>
<h3 id="ESP-IDF"><a href="#ESP-IDF" class="headerlink" title="ESP_IDF"></a>ESP_IDF</h3><p>I directly download the archive with all the submodules included: <a target="_blank" rel="noopener" href="https://github.com/espressif/esp-idf/releases/tag/v5.3.1">https://github.com/espressif/esp-idf/releases/tag/v5.3.1</a></p>
<blockquote>
<p>This archive can also be downloaded from Espressif’s download server: <a target="_blank" rel="noopener" href="https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.3.1/esp-idf-v5.3.1.zip">https://dl.espressif.com/github_assets&#x2F;espressif&#x2F;esp-idf&#x2F;releases&#x2F;download&#x2F;v5.3.1&#x2F;esp-idf-v5.3.1.zip</a></p>
</blockquote>
<p>cd into the unzip folder (The installation will fail in conda venv)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda deactivate</span><br><span class="line">./install.sh</span><br><span class="line">. ./export.sh</span><br></pre></td></tr></table></figure>

<p>In <code>~/.zshrc</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> get_idf=<span class="string">&#x27;. $HOME/esp/esp-idf-v5.3.1/export.sh&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Then each time I need to setup esp32 development environment, I only need to type <code>get_idf</code>.</p>
<p>Some useful commands</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">idf.py set-target esp32</span><br><span class="line">idf.py menuconfig</span><br><span class="line">idf.py build</span><br><span class="line">idf.py -p /dev/ttyUSB0 -b 115200 flash</span><br><span class="line">idf.py -p /dev/ttyUSB0 -b monitor</span><br><span class="line">idf.py -p /dev/ttyUSB0 flash monitor <span class="comment"># combine together</span></span><br></pre></td></tr></table></figure>

<h3 id="PlatformIO"><a href="#PlatformIO" class="headerlink" title="PlatformIO"></a>PlatformIO</h3><p>事实证明pio是最方便的。。<br>事前安装过pio的vscode插件，直接打开pio的esp32项目就直接可以编译上传以及查看串口监视器。</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/09/20/%5BOBS%5DShader-Shader%20Learning%20Materials/"><img class="fill" src="/gallery/Unity.png" alt="Shader Learning Materials" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-09-19T22:28:09.000Z" title="9/20/2024, 6:28:09 AM">2024-09-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.633Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a few seconds read (About 65 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/20/%5BOBS%5DShader-Shader%20Learning%20Materials/">Shader Learning Materials</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>一款线上还在更新中的shader教学，有可交互代码，爆赞<br><a target="_blank" rel="noopener" href="https://thebookofshaders.com/">https://thebookofshaders.com/</a></p>
<p>一些dalao写的shader：<br><a target="_blank" rel="noopener" href="https://www.shadertoy.com/">https://www.shadertoy.com/</a></p>
<p>Shader Tutorials by Ronja<br><a target="_blank" rel="noopener" href="https://www.ronja-tutorials.com/">https://www.ronja-tutorials.com/</a><br><a target="_blank" rel="noopener" href="https://github.com/ronja-tutorials/ShaderTutorials?tab=readme-ov-file">https://github.com/ronja-tutorials/ShaderTutorials?tab=readme-ov-file</a></p>
<p><strong>Shader Tutorial For Beginner</strong><br><a target="_blank" rel="noopener" href="https://github.com/Xibanya/ShaderTutorials">https://github.com/Xibanya/ShaderTutorials</a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/09/16/%5BOBS%5Dhexo-live2d%20%E5%A4%8D%E6%B4%BB%E8%AE%A1%E7%94%BB/"><img class="fill" src="/gallery/hexo.png" alt="live2d 复活计划" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-09-15T16:16:29.000Z" title="9/16/2024, 12:16:29 AM">2024-09-16</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.677Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a few seconds read (About 90 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/16/%5BOBS%5Dhexo-live2d%20%E5%A4%8D%E6%B4%BB%E8%AE%A1%E7%94%BB/">live2d 复活计划</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>因为oh-my-live2d官网崩了，所以需要自己私有托管一下live2d服务才能让博客网上的小埋复活。(bonus:可以借此尝试自己制作一个live2d形象)<br>更于9&#x2F;25，拖着很久没搞，然后官网自己复活了，好好好，直接快进到customized live2d。</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/"><img class="fill" src="/gallery/hexo.png" alt="Hexo Comment System -- Twikoo" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-09-02T21:42:14.000Z" title="9/3/2024, 5:42:14 AM">2024-09-03</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.683Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">4 minutes read (About 566 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/">Hexo Comment System -- Twikoo</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>因为之前使用gitalk评论系统在国内用不了了，所以尝试更换为一些国内可用的方案。其中一个是国内开发者开发@imaegoo搭建的Twikoo系统<br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902214531.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902214531.png"></a></p>
<blockquote>
<p>拜一下，我的博客网也是改自他的魔改版hexo-icarus主题</p>
</blockquote>
<p>对，然后针对icarus系的主题，官网有提供详细例程<br>主要分为云函数部署部分和前端配置部分</p>
<h2 id="云函数"><a href="#云函数" class="headerlink" title="云函数"></a>云函数</h2><p>归根结底就是为静态的博客网提供一个可以响应用户数据提交和显示的服务。<br>主要分为两块</p>
<ul>
<li>Mongodb: 用于云存储用户评论数据</li>
<li>Huggingface: 用于部署一个云服务器，响应用户需求，与db交互。</li>
</ul>
<p>那么首先就需要去mongodb申请一个数据库，依照这个例程： <a target="_blank" rel="noopener" href="https://twikoo.js.org/mongodb-atlas.html">https://twikoo.js.org/mongodb-atlas.html</a><br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215515.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215515.png"></a></p>
<blockquote>
<p>密码保密)</p>
</blockquote>
<p>随后huggingface的服务就通过这串链接字符串来与这个数据库交互</p>
<p>随后去huggingface开启云服务器: <a target="_blank" rel="noopener" href="https://twikoo.js.org/backend.html#hugging-face-%E9%83%A8%E7%BD%B2">https://twikoo.js.org/backend.html#hugging-face-%E9%83%A8%E7%BD%B2</a><br>我的云仓库为： <a target="_blank" rel="noopener" href="https://huggingface.co/spaces/CallMeChen/BlogComment">https://huggingface.co/spaces/CallMeChen/BlogComment</a><br>启动服务成功后可以看到如下log:<br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215813.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215813.png"></a><br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215855.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215855.png"></a><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215902.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902215902.png"></a></p>
<h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><p>参照 <a target="_blank" rel="noopener" href="https://www.anzifan.com/post/icarus_to_candy_2">https://www.anzifan.com/post/icarus_to_candy_2</a></p>
<h2 id="关于评论头像"><a href="#关于评论头像" class="headerlink" title="关于评论头像"></a>关于评论头像</h2><p>访客还可以通过输入数字 QQ 邮箱地址，使用 QQ 头像发表评论。</p>
<h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>添加图床方便上传图片(已解决)<br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902223106.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20240902223106.png"></a></p>
<h2 id="维护"><a href="#维护" class="headerlink" title="维护"></a>维护</h2><p>10&#x2F;20发现评论系统不能用了，发现是mongodb暂停了数据库服务，想起来它应该是每个月都需要自己connect一下（也算是释放不活跃用户的资源吧）。<br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20241020061633.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20241020061633.png"></a><br>每周维护的时候需要进到 <a target="_blank" rel="noopener" href="https://cloud.mongodb.com/v2/6610ebcc85d7126b38c3837b#/overview">https://cloud.mongodb.com/v2/6610ebcc85d7126b38c3837b#/overview</a> connect一下</p>
<p>随后发现huggingface的仓库一直卡在build，遂更换为Netlify云函数平台。<br><a target="_blank" rel="noopener" href="https://app.netlify.com/sites/admirable-sunburst-4762e3/configuration/general">https://app.netlify.com/sites/admirable-sunburst-4762e3/configuration/general</a><br><a href="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20241022115521.png" class="gallery-item"><img src="/2024/09/03/%5BOBS%5Dhexo-Hexo%20Comment%20System%20--%20Twikoo/Pasted_image_20241022115521.png"></a><br>这个仓库的函数会把评论存贮在test&#x2F;comment下，和之前的twikoo&#x2F;comment不同，导致历史评论无法显示，所以在twikoo&#x2F;comment下使用aggregation<br><strong>$merge</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     <span class="keyword">into</span>: &#123; db: &quot;test&quot;, coll: &quot;comment&quot; &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-05T13:34:02.000Z" title="8/5/2024, 9:34:02 PM">2024-08-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-29T06:51:45.690Z" title="10/29/2024, 2:51:45 PM">2024-10-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">12 minutes read (About 1785 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/">ECE3730J Final RC Part 1</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="L2-Embedded-system-overview"><a href="#L2-Embedded-system-overview" class="headerlink" title="L2 (Embedded system overview)"></a>L2 (Embedded system overview)</h2><p>Take a look at the differences between <strong>Microprocessor</strong> (in our personal computer or phone) and <strong>Microcontroller</strong><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142046.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142046.png"></a></p>
<h3 id="Von-Neumann-vs-Harvard-architecture"><a href="#Von-Neumann-vs-Harvard-architecture" class="headerlink" title="Von Neumann vs Harvard architecture"></a>Von Neumann vs Harvard architecture</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142016.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142016.png"></a><br>efficiency: Harvard architecture can avoid the “Von Neumann bottleneck”</p>
<blockquote>
<p>VERBOSE~<br><strong>Von Neumann bottleneck</strong>: when the bandwidth between CPU and RAM is much lower than the speed at which a typical CPU can process data, because the shared bus for instructions and data can cause competition.</p>
</blockquote>
<p>In embedded system, harvard architecture is widely used.<br>Our board (STM32F103C8T6) use harvard architecture on physical level (refer to the block diagram in reference manual)<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805143312.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805143312.png"></a></p>
<blockquote>
<p><em>VERBOSE~</em><br><strong>ICode bus</strong>:This bus connects the Instruction bus of the Cortex®-M3 core to the Flash memory instruction interface.<br><strong>DCode bus</strong>:This bus connects the DCode bus (literal load and debug access) of the Cortex ®-M3 core to the Flash memory Data interface.</p>
</blockquote>
<p>However, in the software level, we treat the instruction memory and data memory as a whole block of memory (therefore, it is more accurate to say that the stm32 uses a mixed Harvard and von Neumann architecture.).</p>
<p>In stm32, instruction memory, data memory, registers of peripherals&#x2F;IO are all mapped to memory.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805213045.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805213045.png"></a><br>Table from <a target="_blank" rel="noopener" href="https://embeddedsecurity.io/vendor-stm32">https://embeddedsecurity.io/vendor-stm32</a></p>
<p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115644.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115644.png"></a><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115733.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115733.png"></a></p>
<h2 id="L3-Programming"><a href="#L3-Programming" class="headerlink" title="L3 (Programming)"></a>L3 (Programming)</h2><h3 id="Type-Qualifiers"><a href="#Type-Qualifiers" class="headerlink" title="Type Qualifiers"></a>Type Qualifiers</h3><h4 id="const"><a href="#const" class="headerlink" title="const"></a><code>const</code></h4><ul>
<li>implies that value not supposed to be written by program (read only) during run-time. Can be modified by others like hardware. <blockquote>
<p>If you want to save the limited RAM spaces (data memory) for other variables, you can use this keyword to store this variable in ROM (program memory). It’s important for harvard architecture.</p>
</blockquote>
</li>
</ul>
<h4 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a><code>volatile</code></h4><ul>
<li>indicate the value can be changed by something other than program so it should be reexamined frequently.<blockquote>
<p>This means two things:</p>
<ul>
<li>The compiler will not try to optimize the variable with <code>volatile</code>. See the two examples on slides.</li>
<li>Each time the program reads the <code>volatile</code> variable, the processor will not look into cached data memory, meaning that the program can always get the newest updated data in memory (which is very important when external hardware change the variable). <del>However, this case is not relevant with STM32 MCU since it didn’t have cache.</del></li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="What-about-const-volatile"><a href="#What-about-const-volatile" class="headerlink" title="What about const volatile ?"></a>What about <code>const volatile</code> ?</h4><ul>
<li>The combination of the above two concepts. Usually used to declare pointers<br><em>Example:</em><br><code>const volatile char *a</code> declares a pointer pointing to a value that cannot be changed by the program through <code>*a</code>, but the value of a can be changed (pointing to another value). <code>*a = 0</code> is not allowed, <code>a = &amp;b</code> is allowed.</li>
</ul>
<p>Generally, we use <code>const volatile</code> to declare pointers that points to hardware registers or memory-mapped Input ports(<strong>read only</strong>). </p>
<h3 id="Basic-Program-Structure"><a href="#Basic-Program-Structure" class="headerlink" title="Basic Program Structure"></a>Basic Program Structure</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import header file for the board (containing the declaration of SFR)</span></span><br><span class="line"><span class="comment">// declare global variables</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">	<span class="comment">// initialization (system clock, peripherals)</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="literal">true</span>) <span class="comment">// super loop, the the program alive</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// interact with peripherals</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="How-to-interact-with-peripherals"><a href="#How-to-interact-with-peripherals" class="headerlink" title="How to interact with peripherals"></a>How to interact with peripherals</h3><p>We need to use C code to set the value of SFR. </p>
<h4 id="SFR-special-function-registers"><a href="#SFR-special-function-registers" class="headerlink" title="SFR (special function registers)"></a>SFR (special function registers)</h4><p>These are registers that are embedded in peripherals, used for configuration and control of peripherals.</p>
<blockquote>
<p><em>VERBOSE~</em><br>If we want to get the status of a peripheral, we read the value of SFR.<br>If we want to send something to peripheral, we write value to SFR.</p>
</blockquote>
<p>Let’s take timer as an example:<br>SFR in block diagram of timer:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210220.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210220.png"></a></p>
<p>SFR declaration in code:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204631.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204631.png"></a><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204818.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204818.png"></a></p>
<p>We change operate with these registers through <code>Bit Operation</code>.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210556.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210556.png"></a>(These are PIC32 codes but I think you have got it)</p>
<h2 id="L4-IO"><a href="#L4-IO" class="headerlink" title="L4 (IO)"></a>L4 (IO)</h2><p>All the modes of GPIO:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805214356.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805214356.png"></a><br>The whole block diagram:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805215231.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805215231.png"></a></p>
<p>You may see an unfamiliar unit <a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232310.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232310.png"></a> Here.<br>It’s used to convert the input analog voltage to digital voltage.<br>You can memorize it through this graph:<br><strong><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Transfer_function">Transfer function</a> of a Schmitt trigger.</strong><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232536.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232536.png"></a></p>
<blockquote>
<p>The horizontal and vertical axes are input voltage and output voltage, respectively. T and −T are the switching thresholds, and M and −M are the output voltage levels.</p>
</blockquote>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>After we configured the GPIO to be input ports, the output driver is disabled (disconnected).</p>
<h4 id="Pull-down"><a href="#Pull-down" class="headerlink" title="Pull down"></a>Pull down</h4><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805233438.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805233438.png"></a></p>
<ul>
<li>When the IO pin is connected to LOW (0V) or unconnected, the input data register will be 0.</li>
<li>When the IO pin is connected to HIGH (3.3V&#x2F;5V), the input data register will be 1.</li>
</ul>
<h4 id="Pull-up"><a href="#Pull-up" class="headerlink" title="Pull up"></a>Pull up</h4><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806000537.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806000537.png"></a></p>
<ul>
<li>When the IO pin is connected to LOW (0V), the input data register will be 0.</li>
<li>When the IO pin is connected to HIGH (3.3V&#x2F;5V) or unconnected, the input data register will be 1.</li>
</ul>
<h4 id="Floating"><a href="#Floating" class="headerlink" title="Floating"></a>Floating</h4><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806001337.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806001337.png"></a></p>
<ul>
<li>When the IO pin is connected to LOW (0V), the input data register will be 0.</li>
<li>When the IO pin is connected to HIGH (VDD), the input data register will be 1.</li>
<li>When the IO pin is unconnected, the input data register will be unpredictable.</li>
</ul>
<h3 id="General-Purpose-Output"><a href="#General-Purpose-Output" class="headerlink" title="General Purpose Output"></a>General Purpose Output</h3><p>The input driver part is still enabled so that we can read the output status.</p>
<h4 id="Open-Drain"><a href="#Open-Drain" class="headerlink" title="Open Drain"></a>Open Drain</h4><p>Can “generate” voltage higher than <code>VDD</code> at IO pin.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004041.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004041.png"></a><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004653.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004653.png"></a></p>
<ul>
<li>“0” in the Output register activates the N-MOS (LOW (0V) at IO pin)</li>
<li>“1” in the Output register leaves the port in Hi-Z (HIGH (V+) at IO pin)<br> (the P-MOS is never activated)</li>
</ul>
<h4 id="Push-Pull"><a href="#Push-Pull" class="headerlink" title="Push Pull"></a>Push Pull</h4><p>Most common one.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806005010.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806005010.png"></a></p>
<ul>
<li>“0” in the Output register activates the N-MOS (LOW (0V) at IO pin)</li>
<li>“1” in the Output register activates the P-MOS (HIGH (VDD) at IO pin)</li>
</ul>
<h3 id="Alternative-Function-Output"><a href="#Alternative-Function-Output" class="headerlink" title="Alternative Function Output"></a>Alternative Function Output</h3><p>Not covered.</p>
<h2 id="L5-Interrupts"><a href="#L5-Interrupts" class="headerlink" title="L5 (Interrupts)"></a>L5 (Interrupts)</h2><h3 id="Why-interrupt"><a href="#Why-interrupt" class="headerlink" title="Why interrupt?"></a>Why interrupt?</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806011926.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806011926.png"></a><br>Most of the peripherals take quite a few time to complete its task or trigger an event. Instead of instruct the processor to keep checking the status of these peripheral (polling), we want the peripherals to inform processor when there exists an event, so that the processor can focus on its own task.</p>
<p>Peripherals inform the processor through external interrupt.</p>
<h3 id="Where-do-interrupts-come-from"><a href="#Where-do-interrupts-come-from" class="headerlink" title="Where do interrupts come from"></a>Where do interrupts come from</h3><p>We mainly deal with the interrupts from peripherals.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806015023.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806015023.png"></a><br>Each peripheral can have multiple interrupt sources, indicating different events.</p>
<h3 id="How-to-handle-interrupts"><a href="#How-to-handle-interrupts" class="headerlink" title="How to handle interrupts"></a>How to handle interrupts</h3><p>Through interrupt service routine (ISR)<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021820.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021820.png"></a></p>
<h4 id="Interrupt-vectors"><a href="#Interrupt-vectors" class="headerlink" title="Interrupt vectors"></a>Interrupt vectors</h4><p>Interrupt vectors are <strong>addresses that inform the interrupt handler as to where to find the ISR</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">| Vector Number | Interrupt Number | Description                    | Vector Address   |</span><br><span class="line">|---------------|------------------|--------------------------------|------------------|</span><br><span class="line">| 0             | -                | Initial Stack Pointer          | 0x0800 0000      |</span><br><span class="line">| 1             | -                | Reset Handler                  | 0x0800 0004      |</span><br><span class="line">....</span><br><span class="line">| 27            | 11               | DMA1 Channel1 global Interrupt | 0x0800 006C      |</span><br><span class="line">| 28            | 12               | DMA1 Channel2 global Interrupt | 0x0800 0070      |</span><br><span class="line">| 29            | 13               | DMA1 Channel3 global Interrupt | 0x0800 0074      |</span><br><span class="line">| 30            | 14               | DMA1 Channel4 global Interrupt | 0x0800 0078      |</span><br><span class="line">| 31            | 15               | DMA1 Channel5 global Interrupt | 0x0800 007C      |</span><br><span class="line">| 32            | 16               | DMA1 Channel6 global Interrupt | 0x0800 0080      |</span><br><span class="line">| 33            | 17               | DMA1 Channel7 global Interrupt | 0x0800 0084      |</span><br><span class="line">...</span><br><span class="line">| 41            | 25               | TIM1 Break Interrupt           | 0x0800 00A4      |</span><br><span class="line">| 42            | 26               | TIM1 Update Interrupt          | 0x0800 00A8      |</span><br><span class="line">| 43            | 27               | TIM1 Trigger and Commutation   | 0x0800 00AC      |</span><br><span class="line">| 44            | 28               | TIM1 Capture Compare Interrupt | 0x0800 00B0      |</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>This is an arbitrary IVT that depicts the pattern of IVT, for detailed IVT of STM32, please refer to the reference manual. </p>
</blockquote>
<h4 id="What-to-do-inside-ISR"><a href="#What-to-do-inside-ISR" class="headerlink" title="What to do inside ISR"></a>What to do inside ISR</h4><ul>
<li>Always remember to clear the interrupt flag in ISR.</li>
<li>Because there is often more interrupt sources than interrupt vectors, you need to judge which source triggered this interrupt based on interrupt status register.</li>
<li>Customized operation… (but be short, because if the operation take too many clock cycles, it may be interrupted by another interrupt source, which may not be on purpose)</li>
</ul>
<h3 id="Nested-interrupts"><a href="#Nested-interrupts" class="headerlink" title="Nested interrupts"></a>Nested interrupts</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021935.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021935.png"></a><br>When executing ISR, the processor can be interrupted by interrupts with higher priority.</p>
<blockquote>
<p><strong>Remainder:</strong> the lower the priority number, the higher the priority<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115404.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115404.png"></a></p>
</blockquote>
<h2 id="L6-Timer"><a href="#L6-Timer" class="headerlink" title="L6 (Timer)"></a>L6 (Timer)</h2><p>Let’s split Timer peripheral into 3 parts:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120419.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120419.png"></a></p>
<h4 id="Blue-part-Master-x2F-slave-controller"><a href="#Blue-part-Master-x2F-slave-controller" class="headerlink" title="Blue part: Master&#x2F;slave controller"></a>Blue part: Master&#x2F;slave controller</h4><p>The master&#x2F;slave unit provides the time-base unit with the <strong>counting clock signal</strong> (for example the CK_PSC signal, PSC here means that it’s for the prescaler in time-base unit), as well as the counting direction (counting up&#x2F;down) control signal.<br>This unit mainly provides the <strong>control signals</strong> for the time-base unit.</p>
<h4 id="Yellow-part-Time-base-unit"><a href="#Yellow-part-Time-base-unit" class="headerlink" title="Yellow part: Time-base unit"></a>Yellow part: Time-base unit</h4><p>The main block of the programmable timer is a <strong>16-bit</strong> counter with its related auto-reload register.<br>The counter can count up, down or both up and down.<br>The counter clock can be divided by a <strong>prescaler</strong> (which is basically another counter).<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120629.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120629.png"></a></p>
<blockquote>
<p>On the reference manual there are many wave-forms for you to understand how these control registers take effects.</p>
</blockquote>
<p>The reset frequency of the counter is $$\frac{f_{input}}{(Prescaler+1)\times(Counter Period+1)}$$</p>
<h4 id="Red-part-Timer-channels-unit"><a href="#Red-part-Timer-channels-unit" class="headerlink" title="Red part: Timer-channels unit"></a>Red part: Timer-channels unit</h4><p>The timer channels are the working elements of the timer.<br>They are the means by which a timer peripheral interacts with its external environment (through input capture or output compare).</p>
<p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806134426.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806134426.png"></a></p>
<h3 id="How-to-use-multiple-timer-for-more-counting-digits-32-bit"><a href="#How-to-use-multiple-timer-for-more-counting-digits-32-bit" class="headerlink" title="How to use multiple timer for more counting digits (32-bit)"></a>How to use multiple timer for more counting digits (32-bit)</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806114606.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806114606.png"></a><br>It is possible to configure one slave timer to increment its counter based on a master-timer events such as the timer update event. The master-timer event is signaled by the master timer master&#x2F;slave controller unit. This controlling unit uses the master timer output-TRGO signal. The master timer output-TRGO signal is connected to the slave timer TRGI-input signal. The master&#x2F;slave controller unit of the slave timer is configured to use the TRGI-input signal as clock source to increment the slave timer counter.</p>
<h2 id="L7-LCD"><a href="#L7-LCD" class="headerlink" title="L7 (LCD)"></a>L7 (LCD)</h2><p>Just refer to RC2_LCD. I think it’s not the focus of final exam.</p>
<h2 id="L9-amp-L10-Input-Capture-amp-Output-Compare"><a href="#L9-amp-L10-Input-Capture-amp-Output-Compare" class="headerlink" title="L9 &amp; L10 (Input Capture &amp; Output Compare)"></a>L9 &amp; L10 (Input Capture &amp; Output Compare)</h2><p>IC is a peripheral that can <strong>monitor the input signal changes</strong> (pos&#x2F;neg edge) independent of the processor (Core).<br>OC is a peripheral that can <strong>generate precise output signal</strong> independent of the processor (Core).</p>
<p>In STM32, it is embedded in timer peripheral (together with output compare).<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806131345.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806131345.png"></a></p>
<h3 id="IC"><a href="#IC" class="headerlink" title="IC"></a>IC</h3><p>You can consider IC as a <strong>timer value recorder</strong>. It will record the timer value each time the capture condition is met (you can see from the diagram, the timer value is from <code>CNT counter</code>).</p>
<blockquote>
<p>These conditions can be:</p>
<ul>
<li>rising edge</li>
<li>falling edge</li>
<li>both<br>With a prescaler, we trigger capture events every few edges.<br>Similar for interrupt, we can trigger an interrupt every few captures.</li>
</ul>
</blockquote>
<blockquote>
<p><strong>Note:</strong><br>The IC does not capture the edge immediately when a rising or falling edge happened. The capture event needs to be sync with PB_clk.<br>Further more, the module will capture the timer counter value that is valid 2-3 PB_clk cycles after the capture event.</p>
</blockquote>
<p>For detailed configuration, please refer to <code>Reference Manual.pdf</code> on canvas, page 349-359, 382-385.</p>
<h3 id="OC"><a href="#OC" class="headerlink" title="OC"></a>OC</h3><p>Just refer to RC2_Output_Campare and RC3_Lab4 for the concepts and PWM configuration.<br>Also, the solution of hw2 has been uploaded to canvas, please take a look.</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/Note/">Previous</a></div><div class="pagination-next"><a href="/categories/Note/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/Note/">1</a></li><li><a class="pagination-link is-current" href="/categories/Note/page/2/">2</a></li><li><a class="pagination-link" href="/categories/Note/page/3/">3</a></li><li><a class="pagination-link" href="/categories/Note/page/4/">4</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/categories/Note/page/7/">7</a></li></ul></nav></div><style>.column.column-left,.column.column-right{display:none}</style><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Chen Yulin"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Chen Yulin</p><p class="is-size-6 is-block">SJTU student</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Manchester by the Sea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">152</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">156</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Chen-Yulin" target="_blank" rel="noopener" id="widget-follow">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/10/"><span class="level-start"><span class="level-item">October 2024</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">September 2024</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">August 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">July 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">June 2024</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">May 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">April 2024</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">March 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">January 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">December 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">May 2023</span></span><span class="level-end"><span class="level-item tag">47</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-29T06:42:19.000Z">2024-10-29</time></p><p class="title"><a href="/2024/10/29/%5BOBS%5DHRI-Human-robot%20interaction%20for%20robotic%20manipulator%20programming%20in%20%20Mixed%20Reality/">Human-robot interaction for robotic manipulator programming in  Mixed Reality</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-28T07:48:36.000Z">2024-10-28</time></p><p class="title"><a href="/2024/10/28/%5BOBS%5DHRI-Augmented%20Reality%20and%20Robotics%20-%20A%20Survey%20and%20Taxonomy%20for%20AR-enhanced%20Human-Robot%20Interaction%20and%20Robotic%20Interfaces/">Augmented Reality and Robotics - A Survey and Taxonomy for AR-enhanced Human-Robot Interaction and Robotic Interfaces</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/10/28/%5BOBS%5Dhexo-Blog%20Template%20For%20New%20Hexo%20User%20(%E7%B3%95)/"><img src="/thumb/hexo.png" alt="Blog Template For New Hexo User"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-27T19:14:22.000Z">2024-10-28</time></p><p class="title"><a href="/2024/10/28/%5BOBS%5Dhexo-Blog%20Template%20For%20New%20Hexo%20User%20(%E7%B3%95)/">Blog Template For New Hexo User</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-24T10:43:05.000Z">2024-10-24</time></p><p class="title"><a href="/2024/10/24/%5BOBS%5DDeep%20Learning-Federated%20Learning-Federated%20Learning%20Atlas/">Federated Learning Atlas</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/10/23/%5BOBS%5DGame-dev-Godot%20Learning%20Plan/"><img src="/thumb/godot.png" alt="Godot Learning Plan"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-22T17:04:38.000Z">2024-10-23</time></p><p class="title"><a href="/2024/10/23/%5BOBS%5DGame-dev-Godot%20Learning%20Plan/">Godot Learning Plan</a></p><p class="categories"><a href="/categories/Schedule/">Schedule</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/6-D/"><span class="tag">6-D</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AIGC/"><span class="tag">AIGC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AR/"><span class="tag">AR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Behaviorism/"><span class="tag">Behaviorism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CADC/"><span class="tag">CADC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CD/"><span class="tag">CD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CNN/"><span class="tag">CNN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CSharp/"><span class="tag">CSharp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CV/"><span class="tag">CV</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Capstone/"><span class="tag">Capstone</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Control/"><span class="tag">Control</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DD/"><span class="tag">DD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Discrete-Mathematics/"><span class="tag">Discrete-Mathematics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ESP32/"><span class="tag">ESP32</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Education/"><span class="tag">Education</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Embeded-System/"><span class="tag">Embeded-System</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FL/"><span class="tag">FL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Foundation/"><span class="tag">Foundation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Functional-programming/"><span class="tag">Functional programming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPT/"><span class="tag">GPT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Game/"><span class="tag">Game</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gated-NN/"><span class="tag">Gated-NN</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HRI/"><span class="tag">HRI</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Haskell/"><span class="tag">Haskell</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Humanism/"><span class="tag">Humanism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IK/"><span class="tag">IK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LSP/"><span class="tag">LSP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Latex/"><span class="tag">Latex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LinearAlgebra/"><span class="tag">LinearAlgebra</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MBTI/"><span class="tag">MBTI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ML/"><span class="tag">ML</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MR-AR/"><span class="tag">MR/AR</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Method/"><span class="tag">Method</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mod/"><span class="tag">Mod</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Music/"><span class="tag">Music</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NLP/"><span class="tag">NLP</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NN/"><span class="tag">NN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PHD/"><span class="tag">PHD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PSY/"><span class="tag">PSY</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Planning/"><span class="tag">Planning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Plugin/"><span class="tag">Plugin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Postgraduate/"><span class="tag">Postgraduate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prefab/"><span class="tag">Prefab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Probability/"><span class="tag">Probability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Pytorch/"><span class="tag">Pytorch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/QML/"><span class="tag">QML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RNN/"><span class="tag">RNN</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROS/"><span class="tag">ROS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reading/"><span class="tag">Reading</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Robot/"><span class="tag">Robot</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SJTU-Lecture/"><span class="tag">SJTU-Lecture</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Script/"><span class="tag">Script</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shader/"><span class="tag">Shader</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Signals-and-Systems/"><span class="tag">Signals and Systems</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Snippets/"><span class="tag">Snippets</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Star-rail/"><span class="tag">Star-rail</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TC/"><span class="tag">TC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tech-Communication/"><span class="tag">Tech Communication</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Transoformer/"><span class="tag">Transoformer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unity/"><span class="tag">Unity</span><span class="tag">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VideoEditing/"><span class="tag">VideoEditing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vim/"><span class="tag">Vim</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WSL/"><span class="tag">WSL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/academic-ability/"><span class="tag">academic-ability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aliyun/"><span class="tag">aliyun</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/app/"><span class="tag">app</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/atlas/"><span class="tag">atlas</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/autonomousDriving/"><span class="tag">autonomousDriving</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/beautify/"><span class="tag">beautify</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bs4/"><span class="tag">bs4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/comment-doc/"><span class="tag">comment&amp;doc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/course/"><span class="tag">course</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dataframe/"><span class="tag">dataframe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debate/"><span class="tag">debate</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debugger/"><span class="tag">debugger</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docs/"><span class="tag">docs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dynamic-programmming/"><span class="tag">dynamic-programmming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emoation/"><span class="tag">emoation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emotion/"><span class="tag">emotion</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ethic/"><span class="tag">ethic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/family/"><span class="tag">family</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/godot/"><span class="tag">godot</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/health/"><span class="tag">health</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hyprland/"><span class="tag">hyprland</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/idea/"><span class="tag">idea</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jolt/"><span class="tag">jolt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/live2d/"><span class="tag">live2d</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/llm/"><span class="tag">llm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/love/"><span class="tag">love</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lua/"><span class="tag">lua</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mason/"><span class="tag">mason</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/math/"><span class="tag">math</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/meeting/"><span class="tag">meeting</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/meme/"><span class="tag">meme</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/motivation/"><span class="tag">motivation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/movie/"><span class="tag">movie</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/music/"><span class="tag">music</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/numpy/"><span class="tag">numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nvim/"><span class="tag">nvim</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/operational-ability/"><span class="tag">operational-ability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/oral/"><span class="tag">oral</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pandas/"><span class="tag">pandas</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/path/"><span class="tag">path</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/philosophy/"><span class="tag">philosophy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/physX/"><span class="tag">physX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/physics-engine/"><span class="tag">physics-engine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pio/"><span class="tag">pio</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/plugin/"><span class="tag">plugin</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/quantum/"><span class="tag">quantum</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/recursive/"><span class="tag">recursive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reinforcement-learning/"><span class="tag">reinforcement-learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/repository/"><span class="tag">repository</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/scrap/"><span class="tag">scrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sklearn/"><span class="tag">sklearn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/society/"><span class="tag">society</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/start-business/"><span class="tag">start-business</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/submodule/"><span class="tag">submodule</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/supervised-learning/"><span class="tag">supervised-learning</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tasks/"><span class="tag">tasks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thought/"><span class="tag">thought</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/travel/"><span class="tag">travel</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unsupervised-learning/"><span class="tag">unsupervised-learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/version-management/"><span class="tag">version-management</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/waybar/"><span class="tag">waybar</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wayland/"><span class="tag">wayland</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/website/"><span class="tag">website</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/well-being/"><span class="tag">well-being</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/window-manager/"><span class="tag">window-manager</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ykll/"><span class="tag">ykll</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zen/"><span class="tag">zen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%F0%9F%90%B1/"><span class="tag">🐱</span><span class="tag">1</span></a></div></div></div></div></div></div><style>.column.column-left,.column.column-right{display:block}</style></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img class="logo-img" src="/img/cyllogo.png" alt="Chen Yulin&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/cyllogonight.png" alt="Chen Yulin&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2024 Chen Yulin</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/imaegoo/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><div class="searchbox-pinyin"><label class="checkbox"><input id="search-by-pinyin" type="checkbox" checked="checked"><span> 拼音检索</span></label></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/imaegoo/pinyin.js" defer></script><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script type="text/javascript" src="/js/imaegoo/imaegoo.js"></script><script type="text/javascript" src="/js/imaegoo/universe.js"></script><!-- hexo injector body_end start -->
<link rel="stylesheet" crossorigin href="https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.css" />
<script type="module" crossorigin src="https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.js"></script>
<script>
  window.CHATBOT_CONFIG = {
    endpoint: "https://webchat-bot-iqu-knzhgrvznd.cn-hangzhou.fcapp.run/chat", // 可以替换为 https://{your-fc-http-trigger-domain}/chat
    displayByDefault: false, // 默认不展示 AI 助手聊天框
    aiChatOptions: { // aiChatOptions 中 options 会传递 aiChat 组件，自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat
      conversationOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#conversation-options
        conversationStarters: [
          {prompt: '你是谁？'},
          {prompt: '博主又是谁？'},
          {prompt: '怎么使用这个网站？'},
          {prompt: '博主喜欢的人是？'},
          {prompt: '想要博主联系方式！'},
        ]
      },
      displayOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#display-options
        height: 600,
        width: 350,
      },
      personaOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#chat-personas
        assistant: {          name: '博主的AI助手，十四行诗参上！',
          // AI 助手的图标
          avatar: 'https://chen-yulin.github.io/thumb/14.png',
          tagline: '要不要试试问下面的问题呢？',
        }
      }
    }
  };
</script>
<style>
  :root {
    /* webchat 工具栏的颜色 */
    --webchat-toolbar-background-color: #1464E4;
    /* webchat 工具栏文字和按钮的颜色 */
    --webchat-toolbar-text-color: #FFF;
  }
  /* webchat 对话框如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */
  .webchat-container {
    z-index: 100;
    bottom: 10px;
    right: 10px;
  }
  /* webchat 的唤起按钮如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */
  .webchat-bubble-tip {
    z-index: 99;
    bottom: 60px;
    right: 20px;
  }
  .webchat-bubble-tip {
    overflow: visible !important;
  }
  @keyframes float {
    0% {
      transform: translateY(0px) translateX(-50%);
    }
    50% {
      transform: translateY(-10px) translateX(-50%);
    }
    100% {
      transform: translateY(0px) translateX(-50%);
    }
  }

  .webchat-bubble-tip::before {
    content: '';
    position: absolute;
    top: -25px;
    left: 70%;
    width: 40px;
    height: 40px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
    animation: float 3s ease-in-out infinite;
  }
</style><script data-pjax src="https://registry.npmmirror.com/oh-my-live2d/latest/files"></script><script>const oml2d = OML2D.loadOml2d({libraryUrls:{"complete":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/complete.js","cubism2":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism2.js","cubism5":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism5.js"},dockedPosition:"left",mobileDisplay:true,models:[{"path":"https://model.oml2d.com/mai/model.json","mobilePosition":[25,0],"mobileScale":0.1,"mobileStageStyle":{"width":125,"height":175},"motionPreloadStrategy":"ALL","position":[50,0],"scale":0.2,"stageStyle":{"width":250,"height":350}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:false,tips:{style: {"width":230,"height":120,"left":"calc(50% - 20px)","top":"-100px"},mobileStyle: {"width":180,"height":80,"left":"calc(50% - 30px)","top":"-100px"},idleTips:{interval:15000,message:function(){
  return axios.get('https://v1.hitokoto.cn?c=i')
    .then(function (response) {
      return response.data.hitokoto ;
    })
    .catch(function (error) {
      console.error(error);
    });
}
}}});</script><!-- hexo injector body_end end --></body></html>