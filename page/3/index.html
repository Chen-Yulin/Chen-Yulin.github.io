<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="theme-color" content="#123456"><title>Chen Yulin&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#6495ed"><meta name="application-name" content="Icarus - Hexo Theme"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="msapplication-TileColor" content="#6495ed"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Icarus - Hexo Theme"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Chen Yulin&#039;s Blog"><meta property="og:url" content="http://chen-yulin.github.io/"><meta property="og:site_name" content="Chen Yulin&#039;s Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://chen-yulin.github.io/img/og_image.png"><meta property="article:author" content="Chen Yulin"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://chen-yulin.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://chen-yulin.github.io"},"headline":"Chen Yulin's Blog","image":["http://chen-yulin.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Chen Yulin"},"publisher":{"@type":"Organization","name":"Chen Yulin's Blog","logo":{"@type":"ImageObject","url":{"light":"/img/cyllogo.png","dark":"/img/cyllogonight.png"}}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img class="logo-img" src="/img/cyllogo.png" alt="Chen Yulin&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/cyllogonight.png" alt="Chen Yulin&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/20/%E7%94%9F%E5%A6%82%E5%A4%8F%E8%8A%B1/"><img class="fill" src="/gallery/Summer.png" alt="生如夏花" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-20T07:16:23.000Z" title="8/20/2024, 3:16:23 PM">2024-08-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-01T16:06:37.241Z" title="9/2/2024, 12:06:37 AM">2024-09-02</time></span><span class="level-item"><a class="link-muted" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a></span><span class="level-item">15 minutes read (About 2305 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/20/%E7%94%9F%E5%A6%82%E5%A4%8F%E8%8A%B1/">生如夏花</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="Life-goes-on-and-throb-lasts-forever"><a href="#Life-goes-on-and-throb-lasts-forever" class="headerlink" title="Life goes on and throb lasts forever"></a>Life goes on and throb lasts forever</h1><p>先放两首诗</p>
<p>泰戈尔的《生如夏花》</p>
<blockquote>
<p>我听见回声，<br>来自山谷和心间<br>以寂寞的镰刀收割空旷的灵魂<br>不断地重复决绝，<br>又重复幸福<br>终有绿洲摇曳在沙漠<br>我相信自己<br>生来如同璀璨的夏日之花<br>不凋不败，<br>妖冶如火<br>承受心跳的负荷和呼吸的累赘<br>乐此不疲<br>——<br>我听见音乐，<br>来自月光和胴体<br>辅极端的诱饵捕获飘渺的唯美<br>一生充盈着激烈，<br>又充盈着纯然<br>总有回忆贯穿于世间<br>我相信自己<br>死时如同静美的秋日落叶<br>不盛不乱，<br>姿态如烟<br>即便枯萎也保留丰肌清骨的傲然<br>玄之又玄<br>——<br>我听见爱情，<br>我相信爱情<br>爱情是一潭挣扎的蓝藻<br>如同一阵凄微的风<br>穿过我失血的静脉<br>驻守岁月的信念<br>——<br>我相信一切能够听见<br>甚至预见离散，<br>遇见另一个自己<br>而有些瞬间无法把握<br>任凭东走西顾，<br>逝去的必然不返<br>请看我头置簪花，<br>一路走来一路盛开<br>频频遗漏一些，<br>又深陷风霜雨雪的感动<br>——<br>般若波罗蜜，<br>一声一声<br>生如夏花之绚烂，<br>死如秋叶之静美<br>还在乎拥有什么</p>
</blockquote>
<p>莎士比亚十四行诗其18</p>
<blockquote>
<p>Shall I compare thee to a summer’s day?<br>Thou art more lovely and more temperate:<br>Rough winds do shake the darling buds of May,<br>And summer’s lease hath all too short a date:<br>——<br>Sometime too hot the eye of heaven shines,<br>And often is his gold complexion dimm’d;<br>And every fair from fair sometime declines,<br>By chance or nature’s changing course untrimm’d<br>——<br>But thy eternal summer shall not fade<br>Nor lose possession of that fair thou owest;<br>Nor shall Death brag thou wander’st in his shade,<br>When in eternal lines to time thou growest:<br>——<br>So long as men can breathe or eyes can see,<br>So long lives this and this gives life to thee<br>——<br>译：<br>可否把你比作夏天？<br>你比夏天更可爱温婉<br>烈风吹散了五月的花蕾<br>且相约有期，夏日苦短<br>有时盛夏之目光灼烤<br>金色的面容失去了光彩<br>一切美丽终将凋零<br>偶然，或自然规律的安排<br>可你的夏季永不衰败<br>天生丽质，娇颜不改<br>死的阴影也无法将你遮蔽<br>永恒的诗中你将常在<br>只要人呼吸，眼睛能阅读，<br>此诗长存，而你，青春永驻</p>
</blockquote>
<p>雪糕的微博应该是在去年秋季关注的，那会刚开始玩微博（那会还不叫），发现有个板块叫“推荐关注的人”，应该是根据每个账号之间的社区网络来推荐的算法（类似有向图），单向连接的方式应该就是“关注”，如果互关应该就属于是双向的强连接。当时我的互关有xhm,ysn,wrz（非常非常好奇为什么wrz会关注），然后我看微博推荐我关注“米糕sama不是糕”（<del>是桂不是假发</del>（无端）），并且显示我这三个好友都关注了，然后就关注了，然后，真的看到了很多自拍（我视奸我有罪），确认是糕。</p>
<blockquote>
<p>题外话，我的mihoyo昵称是“米糕姐”（自创的MJ的谐音梗（雾）），所以一开始看到她的昵称好亲切。</p>
</blockquote>
<p>虽然关注的人不多但糕的博客确实给人很不一样的感觉。我承认我就是会被爱着这个世界（也或许只是我认为他们爱着）的人吸引。</p>
<p>但非常神奇的是：<br>虽然糕不久就回关了我，但她并不知道我其实是她高三同学。。。<br>虽然发过若干自拍，，虽然也发过毕业照，穿的毕业服上甚至有我的名字。。。<br>就是处于一种非常奇妙的我单方面知道她是谁，并且也认为她知道我是谁，甚至在此前提下，我们甚至有过一些互动。。。</p>
<p><del>我虽然确实小透明人设但能不能不要这么透明。。。</del></p>
<p>之后又发生了一件神奇的事情。8&#x2F;7，Lili在高考答疑群里错发了消息（糕甚至回复：梦回2020），因为这件事情恰好和我晚上做的梦连起来了，因此发了条微博。也因此糕终于发现，啊，微博上这个老陈是我。</p>
<blockquote>
<p>此处有插曲，糕在盒我的时候，问过xhm，当时xhm给过“微博怎么是个文艺逼”的评价。之后我直接问他，在他看来啥叫文艺逼，他说，有话不会直说，会通过一些写意文字&#x2F;照片抒发的人。我说，这听着门槛太高了。他说，如果真的做的很好，那就是文艺范，不然就是文艺逼。我至此totally接受了文艺逼设定。<br>可能写过的文字多了自然会有这个倾向，直白干练的白纸黑字读来难免生硬且郑重其事，有时候间接抒情反而日后更能get到当时的心理状态。毕竟大部分的文字是写给我自己看的，我自然也是有权选择我的书写方式。</p>
</blockquote>
<p>8&#x2F;7正值expo，这次是我本科四年最重要也是最后一次expo了。当时一点半正好碰上了那件恶心事，处理完后看到了糕qq给我发的消息，说才发现我居然是老陈，当时真的感到莫名其妙，但就是非常开心。。。对了，还有一个我从没想过的用在我身上的形容词“日漫感”。</p>
<p>等expo结束，又和糕聊天，浅浅尝试做了一下毕设的介绍，然后发现，啊，严肃话题，impossible，我是真的很想绷住我这个正经工科男的人设的。。我一旦沙雕起来是真的没边的（源自我妹的评价）。。。拜托了，让我好好绷住好吗，但糕显然准备给我上强度，她超会搞笑的啊哈哈哈哈哈嗝。真的第一次就聊的特别熟。我感觉她真的是一个超级放的开，且非常自洽的人，且我看不到她的阴影面。我不认为这世界上真的有始终在爱里成长，拥有无暇性格的人。能像糕这样，必然是经历过“于彷徨黑暗中涅槃”这一过程的，意识到了哪里是暗的，才会自主朝那个方向投射更多光和热。<br>如我此前所说过的，我想成为一个大方的人，我觉得糕符合。</p>
<p>和糕说话真的超级随心所欲，感觉我的Fe主要用于生产一些搞笑的话，那种可以让对方笑，然后也可以让我自己回想起来笑好久的话（笑点低的人说玩笑不一定能逗乐别人，但必然能逗乐自己，嗯）。而不是用于考虑自己说的话会不会伤害对方，或让对方觉得我在强撑对话（笑死，这种顺其自然有一搭没一搭的对话根本不用撑好吗）。</p>
<p>因为感觉糕确实是值得信任的人而且传达了好多好多善意，所以把博客密码给了她。<br>确实很少很少有人如此明确地给我传达说，我的内心世界很有层次很美丽。此前也没有人让我明确的感觉到了“ta知道了我或浅或深的内核，然后欣然接纳”。但现在，我接收到了，也感受到了。被看见是太多人的向往，我自然不例外。</p>
<p>没有人是不希望自己被救赎的，我自然也希望，然后就真的得到了救赎。</p>
<p>虽说对于任何人来说，99%的救赎都是自己完成的，但剩下的那1%，太难得了。</p>
<p>虽然糕认为她是infp但是于我而言的感受更接近enfp，所以以十四行诗作为本篇主题。</p>
<blockquote>
<p>还有一件很玄的事情，大概是8&#x2F;5的时候，正好梦到了不知出于什么原因，和糕在游乐场里玩（也可能是拯救世界）的梦。。。梦里总是形形色色的，或认识或陌生，或爱或恨的人来来往往，确实很玄。。。</p>
</blockquote>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-05T13:34:02.000Z" title="8/5/2024, 9:34:02 PM">2024-08-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.508Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">12 minutes read (About 1785 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/">ECE3730J Final RC Part 1</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="L2-Embedded-system-overview"><a href="#L2-Embedded-system-overview" class="headerlink" title="L2 (Embedded system overview)"></a>L2 (Embedded system overview)</h2><p>Take a look at the differences between <strong>Microprocessor</strong> (in our personal computer or phone) and <strong>Microcontroller</strong><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142046.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142046.png"></a></p>
<h3 id="Von-Neumann-vs-Harvard-architecture"><a href="#Von-Neumann-vs-Harvard-architecture" class="headerlink" title="Von Neumann vs Harvard architecture"></a>Von Neumann vs Harvard architecture</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142016.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805142016.png"></a><br>efficiency: Harvard architecture can avoid the “Von Neumann bottleneck”</p>
<blockquote>
<p>VERBOSE~<br><strong>Von Neumann bottleneck</strong>: when the bandwidth between CPU and RAM is much lower than the speed at which a typical CPU can process data, because the shared bus for instructions and data can cause competition.</p>
</blockquote>
<p>In embedded system, harvard architecture is widely used.<br>Our board (STM32F103C8T6) use harvard architecture on physical level (refer to the block diagram in reference manual)<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805143312.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805143312.png"></a></p>
<blockquote>
<p><em>VERBOSE~</em><br><strong>ICode bus</strong>:This bus connects the Instruction bus of the Cortex®-M3 core to the Flash memory instruction interface.<br><strong>DCode bus</strong>:This bus connects the DCode bus (literal load and debug access) of the Cortex ®-M3 core to the Flash memory Data interface.</p>
</blockquote>
<p>However, in the software level, we treat the instruction memory and data memory as a whole block of memory (therefore, it is more accurate to say that the stm32 uses a mixed Harvard and von Neumann architecture.).</p>
<p>In stm32, instruction memory, data memory, registers of peripherals&#x2F;IO are all mapped to memory.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805213045.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805213045.png"></a><br>Table from <a target="_blank" rel="noopener" href="https://embeddedsecurity.io/vendor-stm32">https://embeddedsecurity.io/vendor-stm32</a></p>
<p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115644.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115644.png"></a><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115733.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115733.png"></a></p>
<h2 id="L3-Programming"><a href="#L3-Programming" class="headerlink" title="L3 (Programming)"></a>L3 (Programming)</h2><h3 id="Type-Qualifiers"><a href="#Type-Qualifiers" class="headerlink" title="Type Qualifiers"></a>Type Qualifiers</h3><h4 id="const"><a href="#const" class="headerlink" title="const"></a><code>const</code></h4><ul>
<li>implies that value not supposed to be written by program (read only) during run-time. Can be modified by others like hardware. <blockquote>
<p>If you want to save the limited RAM spaces (data memory) for other variables, you can use this keyword to store this variable in ROM (program memory). It’s important for harvard architecture.</p>
</blockquote>
</li>
</ul>
<h4 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a><code>volatile</code></h4><ul>
<li>indicate the value can be changed by something other than program so it should be reexamined frequently.<blockquote>
<p>This means two things:</p>
<ul>
<li>The compiler will not try to optimize the variable with <code>volatile</code>. See the two examples on slides.</li>
<li>Each time the program reads the <code>volatile</code> variable, the processor will not look into cached data memory, meaning that the program can always get the newest updated data in memory (which is very important when external hardware change the variable). <del>However, this case is not relevant with STM32 MCU since it didn’t have cache.</del></li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="What-about-const-volatile"><a href="#What-about-const-volatile" class="headerlink" title="What about const volatile ?"></a>What about <code>const volatile</code> ?</h4><ul>
<li>The combination of the above two concepts. Usually used to declare pointers<br><em>Example:</em><br><code>const volatile char *a</code> declares a pointer pointing to a value that cannot be changed by the program through <code>*a</code>, but the value of a can be changed (pointing to another value). <code>*a = 0</code> is not allowed, <code>a = &amp;b</code> is allowed.</li>
</ul>
<p>Generally, we use <code>const volatile</code> to declare pointers that points to hardware registers or memory-mapped Input ports(<strong>read only</strong>). </p>
<h3 id="Basic-Program-Structure"><a href="#Basic-Program-Structure" class="headerlink" title="Basic Program Structure"></a>Basic Program Structure</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import header file for the board (containing the declaration of SFR)</span></span><br><span class="line"><span class="comment">// declare global variables</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">	<span class="comment">// initialization (system clock, peripherals)</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="literal">true</span>) <span class="comment">// super loop, the the program alive</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// interact with peripherals</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="How-to-interact-with-peripherals"><a href="#How-to-interact-with-peripherals" class="headerlink" title="How to interact with peripherals"></a>How to interact with peripherals</h3><p>We need to use C code to set the value of SFR. </p>
<h4 id="SFR-special-function-registers"><a href="#SFR-special-function-registers" class="headerlink" title="SFR (special function registers)"></a>SFR (special function registers)</h4><p>These are registers that are embedded in peripherals, used for configuration and control of peripherals.</p>
<blockquote>
<p><em>VERBOSE~</em><br>If we want to get the status of a peripheral, we read the value of SFR.<br>If we want to send something to peripheral, we write value to SFR.</p>
</blockquote>
<p>Let’s take timer as an example:<br>SFR in block diagram of timer:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210220.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210220.png"></a></p>
<p>SFR declaration in code:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204631.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204631.png"></a><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204818.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805204818.png"></a></p>
<p>We change operate with these registers through <code>Bit Operation</code>.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210556.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805210556.png"></a>(These are PIC32 codes but I think you have got it)</p>
<h2 id="L4-IO"><a href="#L4-IO" class="headerlink" title="L4 (IO)"></a>L4 (IO)</h2><p>All the modes of GPIO:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805214356.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805214356.png"></a><br>The whole block diagram:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805215231.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805215231.png"></a></p>
<p>You may see an unfamiliar unit <a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232310.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232310.png"></a> Here.<br>It’s used to convert the input analog voltage to digital voltage.<br>You can memorize it through this graph:<br><strong><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Transfer_function">Transfer function</a> of a Schmitt trigger.</strong><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232536.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805232536.png"></a></p>
<blockquote>
<p>The horizontal and vertical axes are input voltage and output voltage, respectively. T and −T are the switching thresholds, and M and −M are the output voltage levels.</p>
</blockquote>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>After we configured the GPIO to be input ports, the output driver is disabled (disconnected).</p>
<h4 id="Pull-down"><a href="#Pull-down" class="headerlink" title="Pull down"></a>Pull down</h4><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805233438.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240805233438.png"></a></p>
<ul>
<li>When the IO pin is connected to LOW (0V) or unconnected, the input data register will be 0.</li>
<li>When the IO pin is connected to HIGH (3.3V&#x2F;5V), the input data register will be 1.</li>
</ul>
<h4 id="Pull-up"><a href="#Pull-up" class="headerlink" title="Pull up"></a>Pull up</h4><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806000537.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806000537.png"></a></p>
<ul>
<li>When the IO pin is connected to LOW (0V), the input data register will be 0.</li>
<li>When the IO pin is connected to HIGH (3.3V&#x2F;5V) or unconnected, the input data register will be 1.</li>
</ul>
<h4 id="Floating"><a href="#Floating" class="headerlink" title="Floating"></a>Floating</h4><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806001337.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806001337.png"></a></p>
<ul>
<li>When the IO pin is connected to LOW (0V), the input data register will be 0.</li>
<li>When the IO pin is connected to HIGH (VDD), the input data register will be 1.</li>
<li>When the IO pin is unconnected, the input data register will be unpredictable.</li>
</ul>
<h3 id="General-Purpose-Output"><a href="#General-Purpose-Output" class="headerlink" title="General Purpose Output"></a>General Purpose Output</h3><p>The input driver part is still enabled so that we can read the output status.</p>
<h4 id="Open-Drain"><a href="#Open-Drain" class="headerlink" title="Open Drain"></a>Open Drain</h4><p>Can “generate” voltage higher than <code>VDD</code> at IO pin.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004041.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004041.png"></a><br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004653.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806004653.png"></a></p>
<ul>
<li>“0” in the Output register activates the N-MOS (LOW (0V) at IO pin)</li>
<li>“1” in the Output register leaves the port in Hi-Z (HIGH (V+) at IO pin)<br> (the P-MOS is never activated)</li>
</ul>
<h4 id="Push-Pull"><a href="#Push-Pull" class="headerlink" title="Push Pull"></a>Push Pull</h4><p>Most common one.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806005010.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806005010.png"></a></p>
<ul>
<li>“0” in the Output register activates the N-MOS (LOW (0V) at IO pin)</li>
<li>“1” in the Output register activates the P-MOS (HIGH (VDD) at IO pin)</li>
</ul>
<h3 id="Alternative-Function-Output"><a href="#Alternative-Function-Output" class="headerlink" title="Alternative Function Output"></a>Alternative Function Output</h3><p>Not covered.</p>
<h2 id="L5-Interrupts"><a href="#L5-Interrupts" class="headerlink" title="L5 (Interrupts)"></a>L5 (Interrupts)</h2><h3 id="Why-interrupt"><a href="#Why-interrupt" class="headerlink" title="Why interrupt?"></a>Why interrupt?</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806011926.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806011926.png"></a><br>Most of the peripherals take quite a few time to complete its task or trigger an event. Instead of instruct the processor to keep checking the status of these peripheral (polling), we want the peripherals to inform processor when there exists an event, so that the processor can focus on its own task.</p>
<p>Peripherals inform the processor through external interrupt.</p>
<h3 id="Where-do-interrupts-come-from"><a href="#Where-do-interrupts-come-from" class="headerlink" title="Where do interrupts come from"></a>Where do interrupts come from</h3><p>We mainly deal with the interrupts from peripherals.<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806015023.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806015023.png"></a><br>Each peripheral can have multiple interrupt sources, indicating different events.</p>
<h3 id="How-to-handle-interrupts"><a href="#How-to-handle-interrupts" class="headerlink" title="How to handle interrupts"></a>How to handle interrupts</h3><p>Through interrupt service routine (ISR)<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021820.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021820.png"></a></p>
<h4 id="Interrupt-vectors"><a href="#Interrupt-vectors" class="headerlink" title="Interrupt vectors"></a>Interrupt vectors</h4><p>Interrupt vectors are <strong>addresses that inform the interrupt handler as to where to find the ISR</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">| Vector Number | Interrupt Number | Description                    | Vector Address   |</span><br><span class="line">|---------------|------------------|--------------------------------|------------------|</span><br><span class="line">| 0             | -                | Initial Stack Pointer          | 0x0800 0000      |</span><br><span class="line">| 1             | -                | Reset Handler                  | 0x0800 0004      |</span><br><span class="line">....</span><br><span class="line">| 27            | 11               | DMA1 Channel1 global Interrupt | 0x0800 006C      |</span><br><span class="line">| 28            | 12               | DMA1 Channel2 global Interrupt | 0x0800 0070      |</span><br><span class="line">| 29            | 13               | DMA1 Channel3 global Interrupt | 0x0800 0074      |</span><br><span class="line">| 30            | 14               | DMA1 Channel4 global Interrupt | 0x0800 0078      |</span><br><span class="line">| 31            | 15               | DMA1 Channel5 global Interrupt | 0x0800 007C      |</span><br><span class="line">| 32            | 16               | DMA1 Channel6 global Interrupt | 0x0800 0080      |</span><br><span class="line">| 33            | 17               | DMA1 Channel7 global Interrupt | 0x0800 0084      |</span><br><span class="line">...</span><br><span class="line">| 41            | 25               | TIM1 Break Interrupt           | 0x0800 00A4      |</span><br><span class="line">| 42            | 26               | TIM1 Update Interrupt          | 0x0800 00A8      |</span><br><span class="line">| 43            | 27               | TIM1 Trigger and Commutation   | 0x0800 00AC      |</span><br><span class="line">| 44            | 28               | TIM1 Capture Compare Interrupt | 0x0800 00B0      |</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>This is an arbitrary IVT that depicts the pattern of IVT, for detailed IVT of STM32, please refer to the reference manual. </p>
</blockquote>
<h4 id="What-to-do-inside-ISR"><a href="#What-to-do-inside-ISR" class="headerlink" title="What to do inside ISR"></a>What to do inside ISR</h4><ul>
<li>Always remember to clear the interrupt flag in ISR.</li>
<li>Because there is often more interrupt sources than interrupt vectors, you need to judge which source triggered this interrupt based on interrupt status register.</li>
<li>Customized operation… (but be short, because if the operation take too many clock cycles, it may be interrupted by another interrupt source, which may not be on purpose)</li>
</ul>
<h3 id="Nested-interrupts"><a href="#Nested-interrupts" class="headerlink" title="Nested interrupts"></a>Nested interrupts</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021935.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806021935.png"></a><br>When executing ISR, the processor can be interrupted by interrupts with higher priority.</p>
<blockquote>
<p><strong>Remainder:</strong> the lower the priority number, the higher the priority<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115404.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806115404.png"></a></p>
</blockquote>
<h2 id="L6-Timer"><a href="#L6-Timer" class="headerlink" title="L6 (Timer)"></a>L6 (Timer)</h2><p>Let’s split Timer peripheral into 3 parts:<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120419.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120419.png"></a></p>
<h4 id="Blue-part-Master-x2F-slave-controller"><a href="#Blue-part-Master-x2F-slave-controller" class="headerlink" title="Blue part: Master&#x2F;slave controller"></a>Blue part: Master&#x2F;slave controller</h4><p>The master&#x2F;slave unit provides the time-base unit with the <strong>counting clock signal</strong> (for example the CK_PSC signal, PSC here means that it’s for the prescaler in time-base unit), as well as the counting direction (counting up&#x2F;down) control signal.<br>This unit mainly provides the <strong>control signals</strong> for the time-base unit.</p>
<h4 id="Yellow-part-Time-base-unit"><a href="#Yellow-part-Time-base-unit" class="headerlink" title="Yellow part: Time-base unit"></a>Yellow part: Time-base unit</h4><p>The main block of the programmable timer is a <strong>16-bit</strong> counter with its related auto-reload register.<br>The counter can count up, down or both up and down.<br>The counter clock can be divided by a <strong>prescaler</strong> (which is basically another counter).<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120629.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806120629.png"></a></p>
<blockquote>
<p>On the reference manual there are many wave-forms for you to understand how these control registers take effects.</p>
</blockquote>
<p>The reset frequency of the counter is $$\frac{f_{input}}{(Prescaler+1)\times(Counter Period+1)}$$</p>
<h4 id="Red-part-Timer-channels-unit"><a href="#Red-part-Timer-channels-unit" class="headerlink" title="Red part: Timer-channels unit"></a>Red part: Timer-channels unit</h4><p>The timer channels are the working elements of the timer.<br>They are the means by which a timer peripheral interacts with its external environment (through input capture or output compare).</p>
<p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806134426.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806134426.png"></a></p>
<h3 id="How-to-use-multiple-timer-for-more-counting-digits-32-bit"><a href="#How-to-use-multiple-timer-for-more-counting-digits-32-bit" class="headerlink" title="How to use multiple timer for more counting digits (32-bit)"></a>How to use multiple timer for more counting digits (32-bit)</h3><p><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806114606.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806114606.png"></a><br>It is possible to configure one slave timer to increment its counter based on a master-timer events such as the timer update event. The master-timer event is signaled by the master timer master&#x2F;slave controller unit. This controlling unit uses the master timer output-TRGO signal. The master timer output-TRGO signal is connected to the slave timer TRGI-input signal. The master&#x2F;slave controller unit of the slave timer is configured to use the TRGI-input signal as clock source to increment the slave timer counter.</p>
<h2 id="L7-LCD"><a href="#L7-LCD" class="headerlink" title="L7 (LCD)"></a>L7 (LCD)</h2><p>Just refer to RC2_LCD. I think it’s not the focus of final exam.</p>
<h2 id="L9-amp-L10-Input-Capture-amp-Output-Compare"><a href="#L9-amp-L10-Input-Capture-amp-Output-Compare" class="headerlink" title="L9 &amp; L10 (Input Capture &amp; Output Compare)"></a>L9 &amp; L10 (Input Capture &amp; Output Compare)</h2><p>IC is a peripheral that can <strong>monitor the input signal changes</strong> (pos&#x2F;neg edge) independent of the processor (Core).<br>OC is a peripheral that can <strong>generate precise output signal</strong> independent of the processor (Core).</p>
<p>In STM32, it is embedded in timer peripheral (together with output compare).<br><a href="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806131345.png" class="gallery-item"><img src="/2024/08/05/%5BOBS%5DEmbededSystem-ECE3730J%20Final%20RC%20Part%201/Pasted_image_20240806131345.png"></a></p>
<h3 id="IC"><a href="#IC" class="headerlink" title="IC"></a>IC</h3><p>You can consider IC as a <strong>timer value recorder</strong>. It will record the timer value each time the capture condition is met (you can see from the diagram, the timer value is from <code>CNT counter</code>).</p>
<blockquote>
<p>These conditions can be:</p>
<ul>
<li>rising edge</li>
<li>falling edge</li>
<li>both<br>With a prescaler, we trigger capture events every few edges.<br>Similar for interrupt, we can trigger an interrupt every few captures.</li>
</ul>
</blockquote>
<blockquote>
<p><strong>Note:</strong><br>The IC does not capture the edge immediately when a rising or falling edge happened. The capture event needs to be sync with PB_clk.<br>Further more, the module will capture the timer counter value that is valid 2-3 PB_clk cycles after the capture event.</p>
</blockquote>
<p>For detailed configuration, please refer to <code>Reference Manual.pdf</code> on canvas, page 349-359, 382-385.</p>
<h3 id="OC"><a href="#OC" class="headerlink" title="OC"></a>OC</h3><p>Just refer to RC2_Output_Campare and RC3_Lab4 for the concepts and PWM configuration.<br>Also, the solution of hw2 has been uploaded to canvas, please take a look.</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/01/%5BOBS%5DCapstone-%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/"><img class="fill" src="/gallery/Unity.png" alt="项目框架" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:43:05.000Z" title="8/1/2024, 11:43:05 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.418Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">2 minutes read (About 364 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/">项目框架</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="项目框架"><a href="#项目框架" class="headerlink" title="项目框架"></a>项目框架</h1><p>以下为项目布局示意图</p>
<p><a href="/2024/08/01/%5BOBS%5DCapstone-%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Z0rSbEGwPocdfvxH9IxcyqKbnKh.png" class="gallery-item"><img src="/2024/08/01/%5BOBS%5DCapstone-%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Z0rSbEGwPocdfvxH9IxcyqKbnKh.png"></a></p>
<p>（左下角为深度相机）</p>
<p>以下为项目的架构图</p>
<p><a href="/2024/08/01/%5BOBS%5DCapstone-%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Mh5SbOFi4odvCoxSRLhcxYWBnde.png" class="gallery-item"><img src="/2024/08/01/%5BOBS%5DCapstone-%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Mh5SbOFi4odvCoxSRLhcxYWBnde.png"></a></p>
<p>具体解释一下这张图</p>
<ul>
<li><p>首先用户佩戴 hololens，hololens 会先把可交互的物体（物体数据源于物体检测算法）渲染在 UI 上，之后用户基于这些视觉信息，给出交互指令。</p>
</li>
<li><p>随后系统会根据给到的指令和可交互物体的信息，规划机械臂的运动路径。</p>
</li>
<li><p>路径信息会首先传到数字孪生系统中。该系统中有三部分孪生，分别是人体（实时数据来自人体检测算法），环境（实时数据来自 hololens 的环境感知系统） 和 机械臂（来自于前面提到的路径信息）的孪生。</p>
</li>
<li><p>随后该 DT 系统会根据路径信息解算在机械臂运动过程中是否会发生碰撞。</p>
<ul>
<li>如果发生碰撞<ul>
<li>会把碰撞发生的位发还给 hololens 显示，用户可以选择取消指令或者选择移走遮挡的物体（）。</li>
</ul>
</li>
<li>如果不发生碰撞<ul>
<li>会把机械臂的预计运动轨迹发回给 hololens 显示，用于警戒用户。</li>
<li>将运动轨迹发给机械臂控制器，控制器控制机械臂运动。</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/01/%5BOBS%5DCapstone-%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89/"><img class="fill" src="/gallery/Unity.png" alt="程序接口定义" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:32:57.000Z" title="8/1/2024, 11:32:57 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.412Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 210 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89/">程序接口定义</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="程序接口定义"><a href="#程序接口定义" class="headerlink" title="程序接口定义"></a>程序接口定义</h1><h2 id="Python-gt-Unity"><a href="#Python-gt-Unity" class="headerlink" title="Python-&gt;Unity"></a>Python-&gt;Unity</h2><p>代码仓库：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/Chen-Yulin/Unity-Python-UDP-Communication">https://github.com/Chen-Yulin/Unity-Python-UDP-Communication</a></p>
<p>传输的数据为字符串：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">SendData</span>(<span class="params">self, strToSend</span>):</span></span><br><span class="line"><span class="function">    # Use <span class="keyword">this</span> function to send <span class="built_in">string</span> to C#</span></span><br><span class="line"><span class="function">    self.udpSock.<span class="title">sendto</span>(<span class="params">bytes(strToSend,<span class="string">&#x27;utf-8&#x27;</span></span>), (<span class="params">self.udpIP, self.udpSendPort</span>))</span></span><br></pre></td></tr></table></figure>

<h3 id="物体识别信息"><a href="#物体识别信息" class="headerlink" title="物体识别信息"></a>物体识别信息</h3><p>需要包含的信息：物体种类，物体的三轴方位，三轴旋转，三轴尺寸。</p>
<p>格式：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;Object Detection&#125;</span><br><span class="line">category</span><br><span class="line">position.x</span><br><span class="line">position.y</span><br><span class="line">position.z</span><br><span class="line">eulerRotation.x</span><br><span class="line">eulerRotation.y</span><br><span class="line">eulerRotation.z</span><br><span class="line">scale.x</span><br><span class="line">scale.y</span><br><span class="line">scale.z</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;Object Detection&#125;</span><br><span class="line">Handle</span><br><span class="line"><span class="number">0.1</span></span><br><span class="line"><span class="number">0.052</span></span><br><span class="line"><span class="number">0.026</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">90</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">0.5</span></span><br><span class="line"><span class="number">0.3</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="机械臂实时角度"><a href="#机械臂实时角度" class="headerlink" title="机械臂实时角度"></a>机械臂实时角度</h3><p>需要包含的信息：6 个 joint 角度(单位为度)</p>
<p>格式：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;Current Joint&#125;</span><br><span class="line">j0</span><br><span class="line">j1</span><br><span class="line">j2</span><br><span class="line">j3</span><br><span class="line">j4</span><br><span class="line">j5</span><br><span class="line">j6</span><br></pre></td></tr></table></figure>

<h2 id="Unity-gt-Python"><a href="#Unity-gt-Python" class="headerlink" title="Unity-&gt;Python"></a>Unity-&gt;Python</h2><h3 id="机械臂需要旋转的角度"><a href="#机械臂需要旋转的角度" class="headerlink" title="机械臂需要旋转的角度"></a>机械臂需要旋转的角度</h3><p>需要包含的信息：6 个 joint 角度(单位为度)</p>
<p>格式：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;Target Joint&#125;</span><br><span class="line">j0</span><br><span class="line">j1</span><br><span class="line">j2</span><br><span class="line">j3</span><br><span class="line">j4</span><br><span class="line">j5</span><br><span class="line">j6</span><br></pre></td></tr></table></figure>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/01/%5BOBS%5DCapstone-Python-Unity%20Network/"><img class="fill" src="/gallery/python.png" alt="Python-Unity Network" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:30:53.000Z" title="8/1/2024, 11:30:53 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.412Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a few seconds read (About 30 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-Python-Unity%20Network/">Python-Unity Network</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="Python-Unity-Network"><a href="#Python-Unity-Network" class="headerlink" title="Python-Unity Network"></a>Python-Unity Network</h1><h2 id="Python-和-Unity-间通讯"><a href="#Python-和-Unity-间通讯" class="headerlink" title="Python 和 Unity 间通讯"></a>Python 和 Unity 间通讯</h2><p><a target="_blank" rel="noopener" href="https://github.com/Siliconifier/Python-Unity-Socket-Communication">https://github.com/Siliconifier/Python-Unity-Socket-Communication</a></p>
<p><a href="/2024/08/01/%5BOBS%5DCapstone-Python-Unity%20Network/TPgPb2GeyoqoDwxKDB2cXw3hnOd.png" class="gallery-item"><img src="/2024/08/01/%5BOBS%5DCapstone-Python-Unity%20Network/TPgPb2GeyoqoDwxKDB2cXw3hnOd.png"></a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:29:06.000Z" title="8/1/2024, 11:29:06 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.408Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">2 minutes read (About 335 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-Demo%20%E8%AE%BE%E8%AE%A1/">Demo 设计</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="Demo-设计"><a href="#Demo-设计" class="headerlink" title="Demo 设计"></a>Demo 设计</h1><h2 id="一、需要实现的功能："><a href="#一、需要实现的功能：" class="headerlink" title="一、需要实现的功能："></a>一、需要实现的功能：</h2><ul>
<li><input checked="" disabled="" type="checkbox"> 机械臂根据工人指示移动物体</li>
<li><input checked="" disabled="" type="checkbox"> 机械臂运动意图在 Hololens 中的渲染</li>
<li><input disabled="" type="checkbox"> 人体&#x2F;机械臂轨迹的记录，用于评估（？）</li>
</ul>
<h2 id="二、具体-demo"><a href="#二、具体-demo" class="headerlink" title="二、具体 demo"></a>二、具体 demo</h2><h3 id="机械臂移动物体到指定位置"><a href="#机械臂移动物体到指定位置" class="headerlink" title="机械臂移动物体到指定位置"></a>机械臂移动物体到指定位置</h3><p>首先 RGB-D 相机识别出桌面上的某一个物体，反馈到 hololens 的界面中，用户会看到对应物体上渲染出来了一个边界框和表示位姿的坐标轴：</p>
<p><a href="/2024/08/01/%5BOBS%5DCapstone-Demo%20%E8%AE%BE%E8%AE%A1/H74Jb6HIKodKjvxvHJGcvl1Vnrc.png" class="gallery-item"><img src="/2024/08/01/%5BOBS%5DCapstone-Demo%20%E8%AE%BE%E8%AE%A1/H74Jb6HIKodKjvxvHJGcvl1Vnrc.png"></a></p>
<p>随后用户可以通过手部的射线来移动这个目标框（物体上的检测框依然会存在）到某个位置，然后目标框上会显示一个 UI 询问是否要把物体移动到这里，如果点击确认，机械臂就会把对应的物体到目标框的位置。</p>
<p>可以在路径中设置一些障碍，展示机械臂障碍识别的功能。</p>
<h1 id="机械臂移动物体到工人手上"><a href="#机械臂移动物体到工人手上" class="headerlink" title="机械臂移动物体到工人手上"></a>机械臂移动物体到工人手上</h1><p>用户凝视一个物体时显示一个界面，即是否要将操作员注视的物体移动到他的手上，如果手腕翻起，即为确认。随后机械臂会将该物体移动到手上。</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/01/%5BOBS%5DCapstone-%E8%87%AA%E5%AE%9A%E4%B9%89%20Gen6d%20%E7%89%A9%E4%BD%93/"><img class="fill" src="/gallery/python.png" alt="自定义 Gen6d 物体" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:27:02.000Z" title="8/1/2024, 11:27:02 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.418Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 169 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-%E8%87%AA%E5%AE%9A%E4%B9%89%20Gen6d%20%E7%89%A9%E4%BD%93/">自定义 Gen6d 物体</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="自定义-Gen6d-物体"><a href="#自定义-Gen6d-物体" class="headerlink" title="自定义 Gen6d 物体"></a>自定义 Gen6d 物体</h1><p>仓库：<a target="_blank" rel="noopener" href="https://github.com/liuyuan-pal/Gen6D">https://github.com/liuyuan-pal/Gen6D</a></p>
<p>手册：<a target="_blank" rel="noopener" href="https://github.com/liuyuan-pal/Gen6D/blob/main/custom_object.md">https://github.com/liuyuan-pal/Gen6D/blob/main/custom_object.md</a></p>
<p>步骤指令：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python prepare.py --action video2image --input data/custom/part1/<span class="keyword">ref</span>.mp4 --output data/custom/part1/images --frame_inter <span class="number">10</span> --image_size <span class="number">960</span>  </span><br><span class="line"></span><br><span class="line">python prepare.py --action sfm --database_name custom/part1 --colmap D:\COLMAP\COLMAP<span class="number">-3.7</span>-windows-cuda\COLMAP.bat        </span><br><span class="line"></span><br><span class="line"><span class="meta"># do some cloudcompare thing</span></span><br><span class="line"></span><br><span class="line">python predict.py --cfg configs/gen6d_pretrain.yaml --database custom/part1 --video data/custom/part1/test.mp4 --resolution <span class="number">460</span> --output data/custom/part1/test --ffmpeg ffmpeg</span><br><span class="line"></span><br><span class="line">ffmpeg -framerate <span class="number">30</span> -i %d-bbox.jpg -c:v libx264 -r <span class="number">30</span> -pix_fmt yuv420p output.mp4</span><br></pre></td></tr></table></figure>

<p>关于判定不准确怎么解决：<a target="_blank" rel="noopener" href="https://github.com/liuyuan-pal/Gen6D/issues/29">https://github.com/liuyuan-pal/Gen6D/issues/29</a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/01/%5BOBS%5DCapstone-6d%20pose%20--%20unity%20coordinate/"><img class="fill" src="/gallery/Unity.png" alt="6d pose -- unity coordinate" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:24:54.000Z" title="8/1/2024, 11:24:54 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.422Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 129 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-6d%20pose%20--%20unity%20coordinate/">6d pose -- unity coordinate</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="6d-pose-gt-unity-coordinate"><a href="#6d-pose-gt-unity-coordinate" class="headerlink" title="6d pose -&gt; unity coordinate"></a>6d pose -&gt; unity coordinate</h1><p>unity 使用左手坐标系，普遍的 6d 算法使用右手坐标系，所以得出[R;t]后需要做一步针对 y 轴的反射变换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">right_to_left_hand_pose_R</span>(<span class="params">R</span>):</span><br><span class="line">    <span class="comment"># 定义反射矩阵</span></span><br><span class="line">    M = torch.tensor([</span><br><span class="line">        [ <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line">        [ <span class="number">0</span>, -<span class="number">1</span>,  <span class="number">0</span>],</span><br><span class="line">        [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">1</span>]</span><br><span class="line">    ], dtype=R.dtype)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 转换旋转矩阵</span></span><br><span class="line">    R_prime = M @ R @ M</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> R_prime</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">right_to_left_hand_pose_t</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="comment"># 定义反射矩阵</span></span><br><span class="line">    M = torch.tensor([</span><br><span class="line">        [ <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line">        [ <span class="number">0</span>, -<span class="number">1</span>,  <span class="number">0</span>],</span><br><span class="line">        [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">1</span>]</span><br><span class="line">    ], dtype=t.dtype)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 转换位移向量</span></span><br><span class="line">    t_prime = M @ t</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> t_prime</span><br></pre></td></tr></table></figure>

<p>可以看到效果很好：</p>
<p><a href="/2024/08/01/%5BOBS%5DCapstone-6d%20pose%20--%20unity%20coordinate/TRoFbsobAoJOx2xgPcUcDkbxn1e.png" class="gallery-item"><img src="/2024/08/01/%5BOBS%5DCapstone-6d%20pose%20--%20unity%20coordinate/TRoFbsobAoJOx2xgPcUcDkbxn1e.png"></a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:22:34.000Z" title="8/1/2024, 11:22:34 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.422Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">a minute read (About 125 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-6-D%20Pose%20Estimation%20Survey/">6-D Pose Estimation Survey</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="6-D-Pose-Estimation-Survey"><a href="#6-D-Pose-Estimation-Survey" class="headerlink" title="6-D Pose Estimation Survey"></a>6-D Pose Estimation Survey</h1><h2 id="Model-based-CAD-model"><a href="#Model-based-CAD-model" class="headerlink" title="Model based (CAD model)"></a>Model based (CAD model)</h2><p>State of The Art: Foundation Pose (<a target="_blank" rel="noopener" href="https://github.com/NVlabs/FoundationPose">https://github.com/NVlabs/FoundationPose</a>)</p>
<h3 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h3><p>CASAPose (<a target="_blank" rel="noopener" href="https://github.com/fraunhoferhhi/casapose?tab=readme-ov-file">https://github.com/fraunhoferhhi/casapose?tab=readme-ov-file</a>)</p>
<p>MegaPose (<a target="_blank" rel="noopener" href="https://github.com/megapose6d/megapose6d">https://github.com/megapose6d/megapose6d</a>)</p>
<h3 id="D-RGB"><a href="#D-RGB" class="headerlink" title="D-RGB"></a>D-RGB</h3><p>MegaPose (<a target="_blank" rel="noopener" href="https://github.com/megapose6d/megapose6d">https://github.com/megapose6d/megapose6d</a>)</p>
<p>OVE6D (<a target="_blank" rel="noopener" href="https://github.com/dingdingcai/OVE6D-pose">https://github.com/dingdingcai/OVE6D-pose</a>)</p>
<h2 id="Non-model"><a href="#Non-model" class="headerlink" title="Non-model"></a>Non-model</h2><p>Gen6D (<a target="_blank" rel="noopener" href="https://github.com/liuyuan-pal/Gen6D">https://github.com/liuyuan-pal/Gen6D</a>)</p>
<p>Yolov5 (<a target="_blank" rel="noopener" href="https://github.com/cviviers/YOLOv5-6D-Pose">https://github.com/cviviers/YOLOv5-6D-Pose</a>)</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/08/01/%5BOBS%5DCapstone-%E5%A4%B9%E7%88%AA%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F/"><img class="fill" src="/gallery/Unity.png" alt="夹爪控制方式" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-08-01T15:21:10.000Z" title="8/1/2024, 11:21:10 PM">2024-08-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-08T05:32:05.418Z" title="10/8/2024, 1:32:05 PM">2024-10-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">2 minutes read (About 317 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/%5BOBS%5DCapstone-%E5%A4%B9%E7%88%AA%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F/">夹爪控制方式</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="夹爪控制方式"><a href="#夹爪控制方式" class="headerlink" title="夹爪控制方式"></a>夹爪控制方式</h1><p>使用 pyRobotiqGripper</p>
<p>但是只兼容 linux 电脑的串口，所以部署在笔记本上并且创建一个局域网服务器供台式机调用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pyRobotiqGripper</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">gripper = pyRobotiqGripper.RobotiqGripper()</span><br><span class="line">gripper.activate()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/open_gripper&#x27;</span>, methods=[<span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_gripper</span>():</span><br><span class="line">    <span class="comment"># 执行脚本</span></span><br><span class="line">    <span class="comment"># import subprocess</span></span><br><span class="line">    <span class="comment"># subprocess.call([&#x27;/path/to/your/script.sh&#x27;])</span></span><br><span class="line">    gripper.<span class="built_in">open</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;gripper open&#x27;</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/close_gripper&#x27;</span>, methods=[<span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">close_gripper</span>():</span><br><span class="line">    <span class="comment"># 执行脚本</span></span><br><span class="line">    <span class="comment"># import subprocess</span></span><br><span class="line">    <span class="comment"># subprocess.call([&#x27;/path/to/your/script.sh&#x27;])</span></span><br><span class="line">    gripper.close()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;gripper closed&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">5000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># gripper = pyRobotiqGripper.RobotiqGripper()</span></span><br><span class="line"><span class="comment"># gripper.activate()</span></span><br><span class="line"><span class="comment"># gripper.close()</span></span><br><span class="line"><span class="comment"># gripper.open()</span></span><br><span class="line"><span class="comment"># time.sleep(3)</span></span><br><span class="line"><span class="comment"># gripper.close()</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(base) cyl<span class="variable">@arch</span> <span class="operator">~</span><span class="operator">/</span><span class="number">450</span><span class="operator">&gt;</span> python gripper_test.py</span><br><span class="line">Activation completed. Activation <span class="type">time</span> :  <span class="number">1.9049019813537598</span></span><br><span class="line"> <span class="operator">*</span> Serving Flask app <span class="string">&#x27;gripper_test&#x27;</span></span><br><span class="line"> <span class="operator">*</span> Debug mode: off</span><br><span class="line">WARNING: This <span class="keyword">is</span> a development server. Do <span class="keyword">not</span> use it <span class="keyword">in</span> a production deployment. Use a production </span><br><span class="line">WSGI server instead.</span><br><span class="line"> <span class="operator">*</span> <span class="keyword">Running</span> <span class="keyword">on</span> <span class="keyword">all</span> addresses (<span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>)</span><br><span class="line"> <span class="operator">*</span> <span class="keyword">Running</span> <span class="keyword">on</span> http:<span class="operator">/</span><span class="operator">/</span><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">5000</span></span><br><span class="line"> <span class="operator">*</span> <span class="keyword">Running</span> <span class="keyword">on</span> http:<span class="operator">/</span><span class="operator">/</span><span class="number">192.168</span><span class="number">.2</span><span class="number">.111</span>:<span class="number">5000</span></span><br><span class="line">Press CTRL<span class="operator">+</span>C <span class="keyword">to</span> quit</span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">01</span>] &quot;POST /open_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">05</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">07</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">10</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">13</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">16</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">18</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">21</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.2</span><span class="number">.103</span> <span class="operator">-</span> <span class="operator">-</span> [<span class="number">20</span><span class="operator">/</span>Jul<span class="operator">/</span><span class="number">2024</span> <span class="number">16</span>:<span class="number">26</span>:<span class="number">24</span>] &quot;POST /close_gripper HTTP/1.1&quot; <span class="number">200</span> <span class="operator">-</span></span><br></pre></td></tr></table></figure>

<p>台式机通过</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义要发送的命令和URL</span></span><br><span class="line">laptop_ip = <span class="string">&quot;192.168.2.111&quot;</span></span><br><span class="line">close_url = <span class="string">&quot;http://&quot;</span>+laptop_ip+<span class="string">&quot;:5000/close_gripper&quot;</span></span><br><span class="line">open_url = <span class="string">&quot;http://&quot;</span>+laptop_ip+<span class="string">&quot;:5000/open_gripper&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用curl命令通过POST请求发送命令</span></span><br><span class="line">curl_close_command = [</span><br><span class="line">    <span class="string">&#x27;curl&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;-X&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>, </span><br><span class="line">    close_url, </span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">curl_open_command = [</span><br><span class="line">    <span class="string">&#x27;curl&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;-X&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>, </span><br><span class="line">    open_url, </span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(subprocess.run(curl_open_command, capture_output=<span class="literal">True</span>, text=<span class="literal">True</span>))</span><br></pre></td></tr></table></figure>

<p>来控制</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/2/">Previous</a></div><div class="pagination-next"><a href="/page/4/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link is-current" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li><li><a class="pagination-link" href="/page/5/">5</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/14/">14</a></li></ul></nav></div><style>.column.column-left,.column.column-right{display:none}</style><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Chen Yulin"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Chen Yulin</p><p class="is-size-6 is-block">SJTU student</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Manchester by the Sea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">136</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">135</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Chen-Yulin" target="_blank" rel="noopener" id="widget-follow">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/10/"><span class="level-start"><span class="level-item">October 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">September 2024</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">August 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">July 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">June 2024</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">May 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">April 2024</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">March 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">January 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">December 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">May 2023</span></span><span class="level-end"><span class="level-item tag">47</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/"><img src="/thumb/nvim.png" alt="Neovim Cursor (avante.nvim)"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-07T14:03:02.000Z">2024-10-07</time></p><p class="title"><a href="/2024/10/07/%5BOBS%5Dnvim-Neovim%20Cursor%20(avante.nvim)/">Neovim Cursor (avante.nvim)</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-06T15:30:55.000Z">2024-10-06</time></p><p class="title"><a href="/2024/10/06/%5BOBS%5DMBTI-64%E5%9E%8B%E8%87%AA%E6%B5%8B/">64型自测</a></p><p class="categories"><a href="/categories/Reference/">Reference</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-29T04:22:55.000Z">2024-09-29</time></p><p class="title"><a href="/2024/09/29/%5BOBS%5DDeep%20Learning-RNN-Long%20Short-Term%20Memory/">LSTM</a></p><p class="categories"><a href="/categories/Review/">Review</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-27T05:19:52.000Z">2024-09-27</time></p><p class="title"><a href="/2024/09/27/%5BOBS%5DDeep%20Learning-RNN-On%20the%20Properties%20of%20Neural%20Machine%20Translation=%20Encoder%E2%80%93Decoder%20Approaches/">On the Properties of Neural Machine Translation= Encoder–Decoder Approaches</a></p><p class="categories"><a href="/categories/Review/">Review</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-27T04:56:52.000Z">2024-09-27</time></p><p class="title"><a href="/2024/09/27/%5BOBS%5DDeep%20Learning-RNN-Empirical%20Evaluation%20of%20Gated%20Recurrent%20Neural%20Networks%20on%20Sequence%20Modeling/">Empirical Evaluation of Gated Recurrent Neural Networks on Sequence Modeling</a></p><p class="categories"><a href="/categories/Review/">Review</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/6-D/"><span class="tag">6-D</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AIGC/"><span class="tag">AIGC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AR/"><span class="tag">AR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Behaviorism/"><span class="tag">Behaviorism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CADC/"><span class="tag">CADC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CD/"><span class="tag">CD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CNN/"><span class="tag">CNN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CSharp/"><span class="tag">CSharp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CV/"><span class="tag">CV</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Capstone/"><span class="tag">Capstone</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Control/"><span class="tag">Control</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Discrete-Mathematics/"><span class="tag">Discrete-Mathematics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ESP32/"><span class="tag">ESP32</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Embeded-System/"><span class="tag">Embeded-System</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Foundation/"><span class="tag">Foundation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Functional-programming/"><span class="tag">Functional programming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPT/"><span class="tag">GPT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Game/"><span class="tag">Game</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gated-NN/"><span class="tag">Gated-NN</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Haskell/"><span class="tag">Haskell</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Humanism/"><span class="tag">Humanism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IK/"><span class="tag">IK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LSP/"><span class="tag">LSP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Latex/"><span class="tag">Latex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LinearAlgebra/"><span class="tag">LinearAlgebra</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MBTI/"><span class="tag">MBTI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ML/"><span class="tag">ML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Method/"><span class="tag">Method</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mod/"><span class="tag">Mod</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Music/"><span class="tag">Music</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NLP/"><span class="tag">NLP</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PHD/"><span class="tag">PHD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PSY/"><span class="tag">PSY</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Planning/"><span class="tag">Planning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Plugin/"><span class="tag">Plugin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Postgraduate/"><span class="tag">Postgraduate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prefab/"><span class="tag">Prefab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Probability/"><span class="tag">Probability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Pytorch/"><span class="tag">Pytorch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RNN/"><span class="tag">RNN</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROS/"><span class="tag">ROS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reading/"><span class="tag">Reading</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Robot/"><span class="tag">Robot</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SJTU-Lecture/"><span class="tag">SJTU-Lecture</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Script/"><span class="tag">Script</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shader/"><span class="tag">Shader</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Signals-and-Systems/"><span class="tag">Signals and Systems</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Snippets/"><span class="tag">Snippets</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Star-rail/"><span class="tag">Star-rail</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tech-Communication/"><span class="tag">Tech Communication</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Transoformer/"><span class="tag">Transoformer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unity/"><span class="tag">Unity</span><span class="tag">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VideoEditing/"><span class="tag">VideoEditing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vim/"><span class="tag">Vim</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WSL/"><span class="tag">WSL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/academic-ability/"><span class="tag">academic-ability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/app/"><span class="tag">app</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/autonomousDriving/"><span class="tag">autonomousDriving</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/beautify/"><span class="tag">beautify</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bs4/"><span class="tag">bs4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/comment-doc/"><span class="tag">comment&amp;doc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/course/"><span class="tag">course</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dataframe/"><span class="tag">dataframe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debate/"><span class="tag">debate</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docs/"><span class="tag">docs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dynamic-programmming/"><span class="tag">dynamic-programmming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emoation/"><span class="tag">emoation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emotion/"><span class="tag">emotion</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ethic/"><span class="tag">ethic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/family/"><span class="tag">family</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/health/"><span class="tag">health</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/idea/"><span class="tag">idea</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/live2d/"><span class="tag">live2d</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mason/"><span class="tag">mason</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/math/"><span class="tag">math</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/meeting/"><span class="tag">meeting</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/meme/"><span class="tag">meme</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/motivation/"><span class="tag">motivation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/movie/"><span class="tag">movie</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/music/"><span class="tag">music</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/numpy/"><span class="tag">numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nvim/"><span class="tag">nvim</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/operational-ability/"><span class="tag">operational-ability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/oral/"><span class="tag">oral</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pandas/"><span class="tag">pandas</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/path/"><span class="tag">path</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/philosophy/"><span class="tag">philosophy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pio/"><span class="tag">pio</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/plugin/"><span class="tag">plugin</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/recursive/"><span class="tag">recursive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reference/"><span class="tag">reference</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reinforcement-learning/"><span class="tag">reinforcement-learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/repository/"><span class="tag">repository</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/scrap/"><span class="tag">scrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sklearn/"><span class="tag">sklearn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/society/"><span class="tag">society</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/start-business/"><span class="tag">start-business</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/submodule/"><span class="tag">submodule</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/supervised-learning/"><span class="tag">supervised-learning</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tasks/"><span class="tag">tasks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thought/"><span class="tag">thought</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/travel/"><span class="tag">travel</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unsupervised-learning/"><span class="tag">unsupervised-learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/version-management/"><span class="tag">version-management</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/website/"><span class="tag">website</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/well-being/"><span class="tag">well-being</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/window-manager/"><span class="tag">window-manager</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ykll/"><span class="tag">ykll</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zen/"><span class="tag">zen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%F0%9F%90%B1/"><span class="tag">🐱</span><span class="tag">1</span></a></div></div></div></div></div></div><style>.column.column-left,.column.column-right{display:block}</style></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img class="logo-img" src="/img/cyllogo.png" alt="Chen Yulin&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/cyllogonight.png" alt="Chen Yulin&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2024 Chen Yulin</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/imaegoo/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><div class="searchbox-pinyin"><label class="checkbox"><input id="search-by-pinyin" type="checkbox" checked="checked"><span> 拼音检索</span></label></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/imaegoo/pinyin.js" defer></script><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script type="text/javascript" src="/js/imaegoo/imaegoo.js"></script><script type="text/javascript" src="/js/imaegoo/universe.js"></script><!-- hexo injector body_end start -->
<link rel="stylesheet" crossorigin href="https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.css" />
<script type="module" crossorigin src="https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.js"></script>
<script>
  window.CHATBOT_CONFIG = {
    endpoint: "https://webchat-bot-iqu-knzhgrvznd.cn-hangzhou.fcapp.run/chat", // 可以替换为 https://{your-fc-http-trigger-domain}/chat
    displayByDefault: false, // 默认不展示 AI 助手聊天框
    aiChatOptions: { // aiChatOptions 中 options 会传递 aiChat 组件，自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat
      conversationOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#conversation-options
        conversationStarters: [
          {prompt: '你是谁？'},
          {prompt: '博主又是谁？'},
          {prompt: '博主喜欢的人是？'},
          {prompt: '想要博主联系方式！'},
        ]
      },
      displayOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#display-options
        height: 600,
      },
      personaOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#chat-personas
        assistant: {          name: '博主的AI助手，十四行诗参上！',
          // AI 助手的图标
          avatar: 'https://chen-yulin.github.io/thumb/14.png',
          tagline: '要不要试试问下面的问题呢？',
        }
      }
    }
  };
</script>
<style>
  :root {
    /* webchat 工具栏的颜色 */
    --webchat-toolbar-background-color: #1464E4;
    /* webchat 工具栏文字和按钮的颜色 */
    --webchat-toolbar-text-color: #FFF;
  }
  /* webchat 对话框如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */
  .webchat-container {
    z-index: 100;
    bottom: 10px;
    right: 10px;
  }
  /* webchat 的唤起按钮如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */
  .webchat-bubble-tip {
    z-index: 99;
    bottom: 20px;
    left: 20px;
  }
  .webchat-bubble-tip {
    overflow: visible !important;
  }
  @keyframes float {
    0% {
      transform: translateY(0px) translateX(-50%);
    }
    50% {
      transform: translateY(-10px) translateX(-50%);
    }
    100% {
      transform: translateY(0px) translateX(-50%);
    }
  }

  .webchat-bubble-tip::before {
    content: '';
    position: absolute;
    top: -25px;
    left: 70%;
    width: 40px;
    height: 40px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
    animation: float 3s ease-in-out infinite;
  }
</style><script data-pjax src="https://registry.npmmirror.com/oh-my-live2d/latest/files"></script><script>const oml2d = OML2D.loadOml2d({libraryUrls:{"complete":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/complete.js","cubism2":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism2.js","cubism5":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism5.js"},dockedPosition:"left",mobileDisplay:true,models:[{"path":"https://model.oml2d.com/mai/model.json","mobilePosition":[25,0],"mobileScale":0.1,"mobileStageStyle":{"width":125,"height":175},"motionPreloadStrategy":"ALL","position":[50,0],"scale":0.2,"stageStyle":{"width":250,"height":350}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:false,tips:{style: {"width":230,"height":120,"left":"calc(50% - 20px)","top":"-100px"},mobileStyle: {"width":180,"height":80,"left":"calc(50% - 30px)","top":"-100px"},idleTips:{interval:15000,message:function(){
  return axios.get('https://v1.hitokoto.cn?c=i')
    .then(function (response) {
      return response.data.hitokoto ;
    })
    .catch(function (error) {
      console.error(error);
    });
}
}}});</script><!-- hexo injector body_end end --></body></html>