<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta name="theme-color" content="#123456"><title>Tag: Unity - Chen Yulin&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#6495ed"><meta name="application-name" content="Icarus - Hexo Theme"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="msapplication-TileColor" content="#6495ed"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Icarus - Hexo Theme"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Chen Yulin&#039;s Blog"><meta property="og:url" content="http://chen-yulin.github.io/"><meta property="og:site_name" content="Chen Yulin&#039;s Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://chen-yulin.github.io/img/og_image.png"><meta property="article:author" content="Chen Yulin"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://chen-yulin.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://chen-yulin.github.io"},"headline":"Chen Yulin's Blog","image":["http://chen-yulin.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Chen Yulin"},"publisher":{"@type":"Organization","name":"Chen Yulin's Blog","logo":{"@type":"ImageObject","url":{"light":"/img/cyllogo.png","dark":"/img/cyllogonight.png"}}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img class="logo-img" src="/img/cyllogo.png" alt="Chen Yulin&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/cyllogonight.png" alt="Chen Yulin&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">Unity</a></li></ul></nav></div></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/05/12/%5BOBS%5DGame-dev-Game%20Principle%20of%20%3CJustWork%3E/"><img class="fill" src="/gallery/Unity.png" alt="Game Principle of &lt;JustWork&gt;" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-05-12T15:38:24.000Z" title="5/12/2024, 11:38:24 PM">2024-05-12</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.313Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">2 minutes read (About 363 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/05/12/%5BOBS%5DGame-dev-Game%20Principle%20of%20%3CJustWork%3E/">Game Principle of &lt;JustWork&gt;</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>Besiege</p>
<h2 id="核心功能"><a href="#核心功能" class="headerlink" title="核心功能"></a>核心功能</h2><h3 id="机械建造"><a href="#机械建造" class="headerlink" title="机械建造"></a>机械建造</h3><p>需要更高的建造自由度：例如刚体零件的顶点自定义，3轴移动，3轴旋转，3轴缩放。<br>可视化内容更丰富：例如碰撞箱，连接点。</p>
<h3 id="物理优化"><a href="#物理优化" class="headerlink" title="物理优化"></a>物理优化</h3><p>目前还是使用phsX引擎，考虑一下GPU加速这块功能。<br>零件之间的连接考虑使用joint以外的方式，特别是某些刚性连接。</p>
<h3 id="逻辑电路体系"><a href="#逻辑电路体系" class="headerlink" title="逻辑电路体系"></a>逻辑电路体系</h3><p>参考我写的<a target="_blank" rel="noopener" href="https://github.com/Chen-Yulin/Besiege-Modern-Mod">BesiegeModern Mod</a></p>
<h3 id="零件材质自定义"><a href="#零件材质自定义" class="headerlink" title="零件材质自定义"></a>零件材质自定义</h3><p>{金属，木，玻璃}<br>需要自己写shader material实现该功能。</p>
<h2 id="次要功能"><a href="#次要功能" class="headerlink" title="次要功能"></a>次要功能</h2><h3 id="更好的机械破坏系统"><a href="#更好的机械破坏系统" class="headerlink" title="更好的机械破坏系统"></a>更好的机械破坏系统</h3><p>譬如撞击变形，高速击穿之类的<br>很难<br>在已有父刚体在运行中，更改碰撞箱布置是非常耗费性能的。</p>
<h3 id="场景建造"><a href="#场景建造" class="headerlink" title="场景建造"></a>场景建造</h3><p>自定义场景元素</p>
<h3 id="教程系统"><a href="#教程系统" class="headerlink" title="教程系统"></a>教程系统</h3><p>参考mc机械动力模组的“思索”<br>animation制作</p>
<h3 id="故事模式"><a href="#故事模式" class="headerlink" title="故事模式"></a>故事模式</h3><p>起部分教程作用，添加沉浸感，吸引一些非硬核玩家</p>
<h3 id="三渲二"><a href="#三渲二" class="headerlink" title="三渲二"></a>三渲二</h3><p>难，可能对电脑性能有较高要求。</p>
<h2 id="目前需要的技术栈"><a href="#目前需要的技术栈" class="headerlink" title="目前需要的技术栈"></a>目前需要的技术栈</h2><p>unity shader<br>unity animation<br>美术相关工具<br>物理引擎<a target="_blank" rel="noopener" href="https://books.google.co.jp/books?hl=zh-CN&lr=&id=dSbMBQAAQBAJ&oi=fnd&pg=PP1&dq=physics+engine&ots=qe-FZOqhJq&sig=3qYjNeWT_DtbusyXffsCK8HvcSs&redir_esc=y#v=onepage&q&f=false">Game Physics Engine Development</a><br>unity URP</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/04/17/%5BOBS%5DMod-ONI-ONI%20Modding/"><img class="fill" src="/gallery/Unity.png" alt="ONI Modding" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-04-16T19:19:55.000Z" title="4/17/2024, 3:19:55 AM">2024-04-17</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.243Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a></span><span class="level-item">3 minutes read (About 490 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/04/17/%5BOBS%5DMod-ONI-ONI%20Modding/">ONI Modding</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><h3 id="Useful-tools"><a href="#Useful-tools" class="headerlink" title="Useful tools"></a>Useful tools</h3><ul>
<li>Dnspy: decompile the runtime library of ONI</li>
<li>Visual Studio (though it’s too fat)</li>
<li>Poedit: read the <code>.po</code> file for zh-en translation</li>
</ul>
<h3 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a>Hello world</h3><p>Apply patches on the <code>Initialize()</code> method in <code>Db</code> class.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Patches</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">HarmonyPatch(typeof(Db))</span>]</span><br><span class="line">        [<span class="meta">HarmonyPatch(<span class="string">&quot;Initialize&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Db_Initialize_Patch</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Prefix</span>()</span></span><br><span class="line">            &#123;</span><br><span class="line">                Debug.Log(<span class="string">&quot;Hello! Welcome to CuppyUniverse! [before Db.Initialize]&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Postfix</span>()</span></span><br><span class="line">            &#123;</span><br><span class="line">                Debug.Log(<span class="string">&quot;CuppyUniverse initialized! [after Db.Initialize]&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        [<span class="meta">HarmonyPatch(typeof(ElectrolyzerConfig))</span>]</span><br><span class="line">        [<span class="meta">HarmonyPatch(<span class="string">&quot;CreateBuildingDef&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ElectrolyzerConfig_Patch</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Postfix</span>(<span class="params"><span class="keyword">ref</span> BuildingDef __result</span>)</span></span><br><span class="line">            &#123;</span><br><span class="line">                __result.EnergyConsumptionWhenActive = <span class="number">114f</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Add-new-building"><a href="#Add-new-building" class="headerlink" title="Add new building"></a>Add new building</h3><p>Take gold washer (just like water purifier but output small amount of gold) as an example.</p>
<ol>
<li>Find the source code for water purifier.<br>i.e.<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> TUNING;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Token: 0x0200039A RID: 922</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WaterPurifierConfig</span> : <span class="title">IBuildingConfig</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// Token: 0x06001314 RID: 4884 RVA: 0x000665C4 File Offset: 0x000647C4</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">override</span> BuildingDef <span class="title">CreateBuildingDef</span>()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">string</span> id = <span class="string">&quot;WaterPurifier&quot;</span>;</span><br><span class="line">		<span class="built_in">int</span> width = <span class="number">4</span>;</span><br><span class="line">		<span class="built_in">int</span> height = <span class="number">3</span>;</span><br><span class="line">		<span class="built_in">string</span> anim = <span class="string">&quot;waterpurifier_kanim&quot;</span>;</span><br><span class="line">		<span class="built_in">int</span> hitpoints = <span class="number">100</span>;</span><br><span class="line">		<span class="built_in">float</span> construction_time = <span class="number">30f</span>;</span><br><span class="line">		<span class="built_in">float</span>[] tier = BUILDINGS.CONSTRUCTION_MASS_KG.TIER3;</span><br><span class="line">		<span class="built_in">string</span>[] all_METALS = MATERIALS.ALL_METALS;</span><br><span class="line">		<span class="built_in">float</span> melting_point = <span class="number">800f</span>;</span><br><span class="line">		BuildLocationRule build_location_rule = BuildLocationRule.OnFloor;</span><br><span class="line">		EffectorValues tier2 = NOISE_POLLUTION.NOISY.TIER3;</span><br><span class="line">		BuildingDef buildingDef = BuildingTemplates.CreateBuildingDef(id, width, height, anim, hitpoints, construction_time, tier, all_METALS, melting_point, build_location_rule, BUILDINGS.DECOR.PENALTY.TIER2, tier2, <span class="number">0.2f</span>);</span><br><span class="line">		...</span><br><span class="line">		<span class="keyword">return</span> buildingDef;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x06001315 RID: 4885 RVA: 0x000666A8 File Offset: 0x000648A8</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ConfigureBuildingTemplate</span>(<span class="params">GameObject go, Tag prefab_tag</span>)</span></span><br><span class="line">	&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x06001316 RID: 4886 RVA: 0x0006688B File Offset: 0x00064A8B</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">DoPostConfigureComplete</span>(<span class="params">GameObject go</span>)</span></span><br><span class="line">	&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A88 RID: 2696</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">string</span> ID = <span class="string">&quot;WaterPurifier&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A89 RID: 2697</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">float</span> FILTER_INPUT_RATE = <span class="number">1f</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A8A RID: 2698</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">float</span> DIRTY_WATER_INPUT_RATE = <span class="number">5f</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A8B RID: 2699</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">float</span> FILTER_CAPACITY = <span class="number">1200f</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A8C RID: 2700</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">float</span> USED_FILTER_OUTPUT_RATE = <span class="number">0.2f</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A8D RID: 2701</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">float</span> CLEAN_WATER_OUTPUT_RATE = <span class="number">5f</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Token: 0x04000A8E RID: 2702</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">float</span> TARGET_OUTPUT_TEMPERATURE = <span class="number">313.15f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<p>Create a new csharp class file in VS and copy the content into it.<br>Remember to rename</p>
<ul>
<li>the class name</li>
<li><code>id</code> in method <code>CreateBuildingDef()</code></li>
<li><code>ID</code> in class<br>In this example change them to <code>GoldWasher</code></li>
</ul>
<ol start="2">
<li>Add GoldWasher to build menu.<br>create a new patch for <code>GeneratedBuildings</code><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> HarmonyLib;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ONI_CuppyUniverse_Mod</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">HarmonyPatch(typeof(GeneratedBuildings), <span class="string">&quot;LoadGeneratedBuildings&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GeneratedBuildings_LoadGeneratedBuildings</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Prefix</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Strings.Add(<span class="keyword">new</span> <span class="built_in">string</span>[] &#123; </span><br><span class="line">                <span class="string">&quot;STRINGS.BUILDINGS.PREFABS.GOLDWASHER.NAME&quot;</span>,</span><br><span class="line">                <span class="string">&quot;淘金器&quot;</span></span><br><span class="line">            &#125;);</span><br><span class="line">            Strings.Add(<span class="keyword">new</span> <span class="built_in">string</span>[] &#123;</span><br><span class="line">                <span class="string">&quot;STRINGS.BUILDINGS.PREFABS.GOLDWASHER.EFFECT&quot;</span>,</span><br><span class="line">                <span class="string">&quot;从纯净水中淘取黄金&quot;</span></span><br><span class="line">            &#125;);</span><br><span class="line">            Strings.Add(<span class="keyword">new</span> <span class="built_in">string</span>[] &#123;</span><br><span class="line">                <span class="string">&quot;STRINGS.BUILDINGS.PREFABS.GOLDWASHER.DESC&quot;</span>,</span><br><span class="line">                <span class="string">&quot;你是信无中生有的&quot;</span></span><br><span class="line">            &#125;);</span><br><span class="line">            ModUtil.AddBuildingToPlanScreen(<span class="string">&quot;Food&quot;</span>, <span class="string">&quot;GoldWasher&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Nightinggale/ONI-mods">Some mod src</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Cairath/Oxygen-Not-Included-Modding/wiki">ONI Mod Guidance</a></li>
<li><a target="_blank" rel="noopener" href="https://harmony.pardeike.net/articles/patching.html">Harmony Guidance</a></li>
</ul>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DAR-AR%20IPP%20%E5%B0%8F%E7%BB%93/"><img class="fill" src="/gallery/AI.png" alt="AR IPP 小结" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.299Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">a few seconds read (About 3 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DAR-AR%20IPP%20%E5%B0%8F%E7%BB%93/">AR IPP 小结</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="Import-3D-object"><a href="#Import-3D-object" class="headerlink" title="Import 3D object"></a>Import 3D object</h2></div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DShader-SemanticSegmentation/"><img class="fill" src="/gallery/Unity.png" alt="SemanticSegmentation" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.263Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">6 minutes read (About 858 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DShader-SemanticSegmentation/">SemanticSegmentation</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><!--toc:start-->
<ul>
<li><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8shader%E5%AE%9E%E7%8E%B0%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2">如何使用Shader实现语义分割</a><ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFshader">什么是Shader</a></li>
<li><a href="#shader%E4%BB%A3%E7%A0%81%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86">Shader代码的组成部分</a></li>
<li><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8shader%E5%AE%9E%E7%8E%B0%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2">如何使用Shader实现语义分割</a><!--toc:end--></li>
</ul>
</li>
</ul>
<h1 id="如何使用Shader实现语义分割"><a href="#如何使用Shader实现语义分割" class="headerlink" title="如何使用Shader实现语义分割"></a>如何使用Shader实现语义分割</h1><h2 id="什么是Shader"><a href="#什么是Shader" class="headerlink" title="什么是Shader"></a>什么是Shader</h2><p>Shader是一种计算机程序，它用于在图形渲染管线中处理顶点和像素。在Unity中，Shader可以用来控制物体的渲染方式，包括颜色、纹理、透明度等。Shader的工作流程是将材料（如纹理、数据、颜色等）通过加工展现在材质上的过程。</p>
<p>Unity中有多种类型的Shader，可以根据不同的情况使用。例如，在三维网格上使用的方式和图片上使用的方式会有区别。</p>
<h2 id="Shader代码的组成部分"><a href="#Shader代码的组成部分" class="headerlink" title="Shader代码的组成部分"></a>Shader代码的组成部分</h2><p>一个Unity Shader通常由以下几个部分组成：</p>
<ul>
<li><p><strong>Properties</strong>：这部分定义了Shader中可供用户在材质检查器中编辑的属性。例如，可以定义一个颜色属性，让用户可以在材质检查器中更改物体的颜色。</p>
</li>
<li><p><strong>SubShader</strong>：每个Shader至少包含一个SubShader。SubShader定义了Shader的实际渲染操作。如果Shader需要支持多种不同的渲染硬件或渲染质量设置，可以在Shader中定义多个SubShader。</p>
</li>
<li><p><strong>Pass</strong>：每个SubShader至少包含一个Pass。Pass定义了一次渲染操作，包括顶点和片段着色器的代码。可以在一个SubShader中定义多个Pass来实现多次渲染操作。</p>
</li>
<li><p><strong>CGPROGRAM</strong>：这部分包含了顶点和片段着色器的代码。可以使用Cg&#x2F;HLSL语言来编写着色器代码，并使用内置的变量和函数来访问物体的信息。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Shader <span class="string">&quot;Custom/SimpleColor&quot;</span> &#123;</span><br><span class="line">    Properties &#123;</span><br><span class="line">        _Color (<span class="string">&quot;Color&quot;</span>, Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    SubShader &#123;</span><br><span class="line">        Tags &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> &#125;</span><br><span class="line">        LOD <span class="number">100</span></span><br><span class="line"></span><br><span class="line">        Pass &#123;</span><br><span class="line">            CGPROGRAM</span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> vertex vert</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">            fixed4 _Color;</span><br><span class="line"></span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">appdata</span> &#123;</span></span><br><span class="line">                float4 vertex : POSITION;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">v2f</span> &#123;</span></span><br><span class="line">                float4 vertex : SV_POSITION;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            v2f <span class="title function_">vert</span> <span class="params">(appdata v)</span> &#123;</span><br><span class="line">                v2f o;</span><br><span class="line">                o.vertex = UnityObjectToClipPos(v.vertex);</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fixed4 <span class="title function_">frag</span> <span class="params">(v2f i)</span> : SV_Target &#123;</span><br><span class="line">                <span class="keyword">return</span> _Color;</span><br><span class="line">            &#125;</span><br><span class="line">            ENDCG</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="如何使用Shader实现语义分割-1"><a href="#如何使用Shader实现语义分割-1" class="headerlink" title="如何使用Shader实现语义分割"></a>如何使用Shader实现语义分割</h2><p>如果希望根据物体的标签来控制物体的颜色，可以在Shader中使用材质属性来实现。首先，需要在脚本中获取物体的标签信息，并根据标签信息设置物体材质的颜色属性。然后，在Shader中，可以使用这个颜色属性来控制物体的渲染颜色。</p>
<p>下面是一个简单的示例，它展示了如何在脚本中设置材质的颜色属性，并在Shader中使用该属性来控制物体的颜色：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 脚本中设置材质的颜色属性</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Renderer renderer = GetComponent&lt;Renderer&gt;();</span><br><span class="line">    Material material = renderer.material;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据物体的标签设置材质的颜色属性</span></span><br><span class="line">    <span class="keyword">if</span> (CompareTag(<span class="string">&quot;Pedestrian&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        material.SetColor(<span class="string">&quot;_Color&quot;</span>, Color.blue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (CompareTag(<span class="string">&quot;Road&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        material.SetColor(<span class="string">&quot;_Color&quot;</span>, Color.white);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (CompareTag(<span class="string">&quot;Building&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        material.SetColor(<span class="string">&quot;_Color&quot;</span>, Color.black);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line"><span class="comment">// Shader中使用颜色属性来控制物体的颜色</span></span><br><span class="line">Shader <span class="string">&quot;Custom/SemanticSegmentation&quot;</span> &#123;</span><br><span class="line">    Properties &#123;</span><br><span class="line">        _Color (<span class="string">&quot;Color&quot;</span>, Color) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    SubShader &#123;</span><br><span class="line">        Tags &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> &#125;</span><br><span class="line">        LOD <span class="number">100</span></span><br><span class="line"></span><br><span class="line">        Pass &#123;</span><br><span class="line">            CGPROGRAM</span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> vertex vert</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">            fixed4 _Color;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">struct</span> appdata &#123;</span><br><span class="line">                float4 vertex : POSITION;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">struct</span> v2f &#123;</span><br><span class="line">                float4 vertex : SV_POSITION;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="function">v2f <span class="title">vert</span> (<span class="params">appdata v</span>)</span> &#123;</span><br><span class="line">                v2f o;</span><br><span class="line">                o.vertex = UnityObjectToClipPos(v.vertex);</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function">fixed4 <span class="title">frag</span> (<span class="params">v2f i</span>) : SV_Target</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> _Color;</span><br><span class="line">            &#125;</span><br><span class="line">            ENDCG</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DSmartCity-Aircraft%20control%20policy/"><img class="fill" src="/gallery/Unity.png" alt="Aircraft control policy" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.293Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">5 minutes read (About 821 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DSmartCity-Aircraft%20control%20policy/">Aircraft control policy</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="Aircraft-control-policy"><a href="#Aircraft-control-policy" class="headerlink" title="Aircraft control policy"></a>Aircraft control policy</h1><h2 id="State-Variable"><a href="#State-Variable" class="headerlink" title="State Variable"></a>State Variable</h2><h3 id="Intuitive"><a href="#Intuitive" class="headerlink" title="Intuitive"></a>Intuitive</h3><ul>
<li>Aircraft<ul>
<li>Rotation (in euler angle: x,y,z)</li>
<li>Position (In the world coordinate system:x,y,z)</li>
<li>Linear velocity (In the world coordinate system: x,y,z)</li>
<li>Angular velocity (In the world coordinate system: x,y,z)</li>
<li>Acceleration (In the world coordinate system:x,y,z)</li>
</ul>
</li>
<li>Carrier Vessel Landing Runway<ul>
<li>Position</li>
<li>Rotation (fixed)</li>
<li>Velocity (fixed)</li>
</ul>
</li>
</ul>
<h3 id="Extensive"><a href="#Extensive" class="headerlink" title="Extensive"></a>Extensive</h3><ul>
<li>Aircraft<ul>
<li>AoA (angle of attack 攻角)</li>
</ul>
</li>
</ul>
<h2 id="Decision-Variable"><a href="#Decision-Variable" class="headerlink" title="Decision Variable"></a>Decision Variable</h2><ul>
<li>Aircraft<ul>
<li>Pitch angle (control aircraft’s rotation along x axis)</li>
<li>Roll angle (control aircraft’s rotation along z axis)</li>
<li>Yaw angle (control aircraft’s rotation along y axis)</li>
<li>Throttle (control thrust)</li>
</ul>
</li>
</ul>
<h2 id="Level-1-Basic-Policy"><a href="#Level-1-Basic-Policy" class="headerlink" title="Level 1 (Basic) Policy"></a>Level 1 (Basic) Policy</h2><p>Only contain the control over <em>control surface</em> (on control over throttle)</p>
<h3 id="Attitude-Control-x2F-Maintainance"><a href="#Attitude-Control-x2F-Maintainance" class="headerlink" title="Attitude Control&#x2F;Maintainance"></a>Attitude Control&#x2F;Maintainance</h3><h4 id="Pitch（俯仰角）-C-x2F-M"><a href="#Pitch（俯仰角）-C-x2F-M" class="headerlink" title="Pitch（俯仰角） C&#x2F;M"></a>Pitch（俯仰角） C&#x2F;M</h4><p>Function: <code>KeepPitch()</code></p>
<p>Control the angle of <em>horizontal tail (elevator)</em></p>
<ol>
<li><p>First keep the angle of elevator same with AoA(攻角), to avoid the disturbance of the horizontal tail on the attitide of the aircraft.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aircraft.PitchAngle = aircraft.AoA;</span><br></pre></td></tr></table></figure>
<p>这里的aircraft.PitchAngle指的是飞机升降舵的角度(下片为正)</p>
</li>
<li><p>根据当前俯仰角，俯仰速度，和目标俯仰角，调整升降舵面的角度</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aircraft.PitchAngle += <span class="number">5</span> * (p - aircraft.Pitch) / Mathf.Exp(<span class="number">10</span> * aircraft.PitchSpeed * Mathf.Sign(p - aircraft.Pitch));</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="Other-Attitude-C-x2F-M"><a href="#Other-Attitude-C-x2F-M" class="headerlink" title="Other Attitude C&#x2F;M"></a>Other Attitude C&#x2F;M</h4><p>与俯仰角类似（分别控制滚转舵面以及偏航舵面），不过不需要第一步</p>
<h2 id="Level-2-Policy"><a href="#Level-2-Policy" class="headerlink" title="Level 2 Policy"></a>Level 2 Policy</h2><h3 id="Velocity-Direction-Control-x2F-Maintainance"><a href="#Velocity-Direction-Control-x2F-Maintainance" class="headerlink" title="Velocity Direction Control&#x2F;Maintainance"></a>Velocity Direction Control&#x2F;Maintainance</h3><h4 id="Gliding-Angle-下滑角"><a href="#Gliding-Angle-下滑角" class="headerlink" title="Gliding Angle (下滑角)"></a>Gliding Angle (下滑角)</h4><p>Control the thrust of aircraft to change the angle of gliding</p>
<ol>
<li><p>保持飞机的俯仰角不变(5度仰角)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KeepPitch(<span class="number">5f</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>计算当前下滑角</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> velAngle = <span class="number">90</span> - Vector3.Angle(aircraft.rb.velocity, Vector3.up);</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据下滑角更改油门大小</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aircraft.Thrust += (p - velAngle)/<span class="number">500f</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Level-3-Policy"><a href="#Level-3-Policy" class="headerlink" title="Level 3 Policy"></a>Level 3 Policy</h2><h3 id="Follow-Trajectory"><a href="#Follow-Trajectory" class="headerlink" title="Follow Trajectory"></a>Follow Trajectory</h3><h4 id="Vertical-Approaching-竖直平面上接近预定下滑道"><a href="#Vertical-Approaching-竖直平面上接近预定下滑道" class="headerlink" title="Vertical Approaching (竖直平面上接近预定下滑道)"></a>Vertical Approaching (竖直平面上接近预定下滑道)</h4><p>通过调整飞机的下滑角来使飞机在竖直面上接近并维持在理想的下滑道</p>
<ol>
<li>计算偏差对应的向量<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vector3 approachDirection = Vector3.ProjectOnPlane(route.Destination - transform.position, route.direction);</span><br></pre></td></tr></table></figure></li>
<li>根据偏差值调整下滑角的大小（-3为目标下滑轨道的下滑角）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ThrustKeepGliding(<span class="number">-3</span> + Mathf.Clamp(approachDirection.y / <span class="number">10f</span>, <span class="number">-5</span>,<span class="number">5</span>));</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="Horizontal-Approaching-水平面上接近预定下滑道"><a href="#Horizontal-Approaching-水平面上接近预定下滑道" class="headerlink" title="Horizontal Approaching (水平面上接近预定下滑道)"></a>Horizontal Approaching (水平面上接近预定下滑道)</h4><p>通过调整飞机的偏航舵面角度（进而影响飞机的y轴rotation）来使飞机在水平面上接近并维持在理想的航道上</p>
<ol>
<li>计算偏差对应的向量<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vector3 approachDirection = Vector3.ProjectOnPlane(route.Destination - transform.position, route.direction);</span><br><span class="line"><span class="built_in">float</span> distance = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Vector3.Angle(approachDirection, transform.right) &lt; <span class="number">90</span>)</span><br><span class="line">&#123;</span><br><span class="line">	distance = Vector3.ProjectOnPlane(approachDirection, Vector3.up).magnitude;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">	distance = -Vector3.ProjectOnPlane(approachDirection, Vector3.up).magnitude;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>根据偏差值调整飞机的目标偏航角度（-8为目标下滑轨道的偏航角度）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">KeepYaw(<span class="number">-8</span> + Mathf.Clamp(distance / <span class="number">10f</span>, <span class="number">-50</span>, <span class="number">50</span>));</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Get-the-ideal-trajectory（补充）"><a href="#Get-the-ideal-trajectory（补充）" class="headerlink" title="Get the ideal trajectory（补充）"></a>Get the ideal trajectory（补充）</h2><p>基本的策略以及阐述完毕，那么所谓的理想下滑道到底应该怎么得到呢？<br>理想下滑道是一个射线，包含一个终点（飞机着陆的终点）和一个方向（飞机接近的方向）</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Target_Route</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> Vector3 Destination;</span><br><span class="line">	<span class="keyword">public</span> Vector3 direction;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>理想航道的偏航角和下滑角已知（分别为-8（平行于着陆跑道）和-3）<br>通过迭代飞机着陆所需时间来求得下滑道终点的位置</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">route.Destination = CV.transform.position;</span><br><span class="line">route.direction = <span class="keyword">new</span> Vector3(<span class="number">-0.14f</span>, <span class="number">-0.05f</span>, <span class="number">0.99f</span>).normalized;</span><br><span class="line"><span class="comment">// 获取飞机速度在下滑道方向上投影的大小</span></span><br><span class="line"><span class="built_in">float</span> axialVel = Vector3.Dot(aircraft.rb.velocity, route.direction);</span><br><span class="line"></span><br><span class="line"><span class="comment">// calculate precise destination</span></span><br><span class="line"><span class="built_in">float</span> FlightTime = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	FlightTime = Vector3.Dot(route.Destination - aircraft.transform.position,route.direction) / axialVel;<span class="comment">// 获取预计到达终点需要的时间</span></span><br><span class="line">	route.Destination = CV.transform.position + <span class="number">15</span> * FlightTime * Vector3.forward; <span class="comment">// 其中15是航母的速度，Vector3.forward是航母前进方向</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DUnity-Prefab/"><img class="fill" src="/gallery/Unity.png" alt="Prefab" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.299Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">2 minutes read (About 333 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DUnity-Prefab/">Prefab</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="Prefabs-in-Unity"><a href="#Prefabs-in-Unity" class="headerlink" title="Prefabs in Unity"></a>Prefabs in Unity</h1><p>A prefab is a template for a game object that can be reused across multiple scenes. Using prefabs can help build scenes faster because a prefab can be created and then reused across multiple scenes without having to recreate the same game object each time.</p>
<h2 id="Creating-Prefabs"><a href="#Creating-Prefabs" class="headerlink" title="Creating Prefabs"></a>Creating Prefabs</h2><p>To create a prefab, first create a game object in the Hierarchy window and add components and child game objects to it until it looks like the desired prefab. Then drag the game object from the Hierarchy window to the Assets folder in the Project window. This will turn the game object into a prefab that can be reused across multiple scenes.</p>
<p>An empty prefab can also be created by right-clicking in the Project window and selecting Create &gt; Prefab, and then editing it in the Inspector window.</p>
<h2 id="Instantiating-Prefabs-in-Scripts"><a href="#Instantiating-Prefabs-in-Scripts" class="headerlink" title="Instantiating Prefabs in Scripts"></a>Instantiating Prefabs in Scripts</h2><p>To instantiate an existing prefab in a script, first create a public variable in the script to reference the prefab, and then drag the prefab onto that variable in the Inspector window. For example:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GameObject myPrefab;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Instantiate(myPrefab, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), Quaternion.identity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The above code creates a public variable named myPrefab and uses the Instantiate method in the Start method to create an instance of the prefab. The prefab can be dragged onto the myPrefab variable in the Inspector window so that it is instantiated at runtime.</p>
<p>To instantiate a prefab from the Assets folder in a script, use the Resources.Load method to load the prefab and then use the Instantiate method to instantiate it. For example:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    GameObject myPrefab = Resources.Load&lt;GameObject&gt;(<span class="string">&quot;MyPrefab&quot;</span>);</span><br><span class="line">    Instantiate(myPrefab, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), Quaternion.identity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The above code uses the Resources.Load method to load a prefab named MyPrefab from the Resources folder in the Assets folder and then uses the Instantiate method to create an instance of the prefab.</p>
<p><strong>Note:</strong> To use the Resources.Load method, the prefab must be located in a Resources folder within the Assets folder.</p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DWoodOxen-RoadArchitect/"><img class="fill" src="/gallery/Unity.png" alt="RoadArchitect" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.219Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">a few seconds read (About 25 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DWoodOxen-RoadArchitect/">RoadArchitect</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="Trouble-shooting"><a href="#Trouble-shooting" class="headerlink" title="Trouble shooting"></a>Trouble shooting</h1><ol>
<li>Pink material<ul>
<li>Install Universal RP in package manager</li>
<li>Edit&#x2F;Rendering&#x2F;Materials&#x2F;Convert…</li>
<li>or what about try this <a target="_blank" rel="noopener" href="https://github.com/FritzsHero/RoadArchitect">fork</a></li>
</ul>
</li>
</ol>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DWoodOxen-UnityRef/"><img class="fill" src="/gallery/Unity.png" alt="UnityRef" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.219Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">a few seconds read (About 44 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DWoodOxen-UnityRef/">UnityRef</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="Vehicle-Dynamics"><a href="#Vehicle-Dynamics" class="headerlink" title="Vehicle Dynamics"></a>Vehicle Dynamics</h2><h3 id="WheelCollider"><a href="#WheelCollider" class="headerlink" title="WheelCollider"></a>WheelCollider</h3><p><a target="_blank" rel="noopener" href="https://answers.unity.com/questions/1228216/unity-5-good-parameters-for-vehicle.html">useful parameter</a><br><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Manual/class-WheelCollider.html">official</a></p>
<h3 id="Stablizer-Bar"><a href="#Stablizer-Bar" class="headerlink" title="Stablizer Bar"></a>Stablizer Bar</h3><p><a target="_blank" rel="noopener" href="https://forum.unity.com/threads/how-to-make-a-physically-real-stable-car-with-wheelcolliders.50643/">Edy</a></p>
</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/05/10/%5BOBS%5DWoodOxen-WeeklyProgress-m1/"><img class="fill" src="/gallery/Unity.png" alt="m1" referrerpolicy="no-referrer"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T21:58:07.000Z" title="5/10/2023, 5:58:07 AM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-22T08:43:52.219Z" title="10/22/2024, 4:43:52 PM">2024-10-22</time></span><span class="level-item">5 minutes read (About 766 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/%5BOBS%5DWoodOxen-WeeklyProgress-m1/">m1</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><!--toc:start-->
<ul>
<li><a href="#task">Task</a></li>
<li><a href="#vehicle-physics-pro">Vehicle Physics Pro</a><ul>
<li><a href="#needs">Needs</a></li>
<li><a href="#install">Install</a></li>
</ul>
</li>
<li><a href="#gltfutility">GLTFUtility</a><ul>
<li><a href="#needs">Needs</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#runtime-api">Runtime API</a></li>
<li><a href="#trouble-shooting">Trouble shooting</a></li>
</ul>
</li>
<li><a href="#csharps-interpretation-of-json">Csharp’s interpretation of Json</a></li>
<li><a href="#abstract-the-vehicle-as-a-json-structure">Abstract the vehicle as a Json structure</a><ul>
<li><a href="#graph">Graph</a></li>
<li><a href="#json-example">Json example</a><!--toc:end--></li>
</ul>
</li>
</ul>
<h2 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h2><ul>
<li><input checked="" disabled="" type="checkbox"> Load car configuration from .json file </li>
<li><input disabled="" type="checkbox"> Compose DevDocs</li>
<li><input disabled="" type="checkbox"> Investigate csharp comment documentation</li>
<li><input checked="" disabled="" type="checkbox"> use assimp to load .glb model</li>
</ul>
<hr>
<h2 id="Vehicle-Physics-Pro"><a href="#Vehicle-Physics-Pro" class="headerlink" title="Vehicle Physics Pro"></a>Vehicle Physics Pro</h2><p><strong>Starting point</strong><br>The unity’s build-in physics engine PhysX is far from being precise enough for a vehicle simulator.</p>
<h3 id="Needs"><a href="#Needs" class="headerlink" title="Needs"></a>Needs</h3><ul>
<li>Closer to reality vehicle physics</li>
<li>Runtime performance</li>
<li>Not so complicated to config so that the composition of the savings and editor will not be a headache</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://vehiclephysics.com/">Official</a></p>
<h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>Through <a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/tools/physics/vehicle-physics-pro-community-edition-153556">Asset Store</a></p>
<hr>
<h2 id="GLTFUtility"><a href="#GLTFUtility" class="headerlink" title="GLTFUtility"></a>GLTFUtility</h2><p><strong>Starting point</strong><br>The car model should be customizable, i.e. the user drag a car model into a directory and the game should be able to load it.<br>Filetype .glb is nice but unity doesn’t have build-in support</p>
<h3 id="Needs-1"><a href="#Needs-1" class="headerlink" title="Needs"></a>Needs</h3><ul>
<li>Runtime import</li>
<li>support mesh and material</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/Siccity/GLTFUtility">GLTFUtility</a></p>
<h3 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h3><p>In tactics project:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add https://github.com/Siccity/GLTFUtility.git ./Tactics/Assets/ThirdParty/GLTFUtility</span><br></pre></td></tr></table></figure>

<h3 id="Runtime-API"><a href="#Runtime-API" class="headerlink" title="Runtime API"></a>Runtime API</h3> <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Siccity.GLTFUtility</span><br><span class="line"></span><br><span class="line"><span class="comment">// Single thread</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ImportGLTF</span><span class="params">(string filepath)</span></span>&#123;</span><br><span class="line">    GameObject res = Importer.<span class="built_in">LoadFromFile</span>(filepath);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Multi thread</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ImportGLTFAsync</span><span class="params">(string filepath)</span></span>&#123;</span><br><span class="line">    Importer.<span class="built_in">ImportGLTFAsync</span>(filepath, <span class="keyword">new</span> <span class="built_in">ImportSettings</span>(), OnFinish);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OnFinish</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>here I use <code>Application.streamingAssetsPath+&quot;/Model/&quot;+JsonReader.vehicle.model.carBody[0].dir</code> as <code>filepath</code></p>
<h3 id="Trouble-shooting"><a href="#Trouble-shooting" class="headerlink" title="Trouble shooting"></a>Trouble shooting</h3><ol>
<li>In the built game, encounter <code>ArgumentNullException: Value cannot be null. Parameter name: shader</code><br> <a target="_blank" rel="noopener" href="https://github.com/Siccity/GLTFUtility/issues/38">Github Issue</a></li>
<li>The file management of the game changed after being built. How to determine where to place the <code>Save</code> and <code>Model</code> folders?<br> Use <code>Application.streamingAssetsPath</code>, stands for <code>Assets/StreamingAssets</code> in Unity editor and <code>Game_Data/StreamingAssets</code> in exported game.</li>
</ol>
<hr>
<h2 id="Csharp’s-interpretation-of-Json"><a href="#Csharp’s-interpretation-of-Json" class="headerlink" title="Csharp’s interpretation of Json"></a>Csharp’s interpretation of Json</h2><p>First construct the structure of the json file in c#.<br><strong>Notice:</strong> the name of the member variable should be the same with those in json file </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VehiclePhysicsPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> bodyMass;</span><br><span class="line">    <span class="keyword">public</span> Vector3 centerOfMass;</span><br><span class="line">    <span class="keyword">public</span> List&lt;BodyColliderPara&gt; collider;</span><br><span class="line">    <span class="keyword">public</span> List&lt;WheelColliderPara&gt; wheel;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BodyColliderPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> string type; <span class="comment">// box | sphere</span></span><br><span class="line">    <span class="keyword">public</span> Vector3 position;</span><br><span class="line">    <span class="keyword">public</span> Vector3 eulerRotation;</span><br><span class="line">    <span class="keyword">public</span> Vector3 scale;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SteeringWheelTypePara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">bool</span> use;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">bool</span> inverse;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WheelTypePara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">bool</span> powered;</span><br><span class="line">    <span class="keyword">public</span> SteeringWheelTypePara steering;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WheelSuspensionPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> spring;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> damper;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> distance;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> initialPosition;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WheelFrictionPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> extremumSlip;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> extremumValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> AsymptoteSlip;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> AsymptoteValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WheelColliderPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> WheelTypePara type;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> mass;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> radius;</span><br><span class="line">    <span class="keyword">public</span> Vector3 position;</span><br><span class="line">    <span class="keyword">public</span> WheelSuspensionPara suspension;</span><br><span class="line">    <span class="keyword">public</span> WheelFrictionPara forwardFriction;</span><br><span class="line">    <span class="keyword">public</span> WheelFrictionPara sidewayFriction;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VehicleModelPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;CarBodyPara&gt; carBody;</span><br><span class="line">    <span class="keyword">public</span> List&lt;WheelModelPara&gt; wheel;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CarBodyPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> string name;</span><br><span class="line">    <span class="keyword">public</span> string dir;</span><br><span class="line">    <span class="keyword">public</span> Vector3 position;</span><br><span class="line">    <span class="keyword">public</span> Vector3 eulerRotation;</span><br><span class="line">    <span class="keyword">public</span> Vector3 scale;</span><br><span class="line">    <span class="keyword">public</span> string shader;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WheelModelPara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> string name;</span><br><span class="line">    <span class="keyword">public</span> string dir;</span><br><span class="line">    <span class="keyword">public</span> Vector3 scale;</span><br><span class="line">    <span class="keyword">public</span> string shader;</span><br><span class="line">&#125;</span><br><span class="line">[System.Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VehiclePara</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> VehicleModelPara model;</span><br><span class="line">    <span class="keyword">public</span> VehiclePhysicsPara physics;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Notice:</strong> <code>[System.Serializable]</code> is for serialized display in Unity editor. </p>
<p>Then, directly use build-in json loader:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VehiclePara vehicle;</span><br><span class="line">vehicle = JsonUtility.FromJson&lt;VehiclePara&gt;(textJson.text);</span><br></pre></td></tr></table></figure>
<p>All the parameters will be stored in the instance <code>vehicle</code> .<br><a href="/2023/05/10/%5BOBS%5DWoodOxen-WeeklyProgress-m1/inspector.png" title="vehiclePara" class="gallery-item"><img src="/2023/05/10/%5BOBS%5DWoodOxen-WeeklyProgress-m1/inspector.png" alt="vehiclePara"></a></p>
<hr>
<h2 id="Abstract-the-vehicle-as-a-Json-structure"><a href="#Abstract-the-vehicle-as-a-Json-structure" class="headerlink" title="Abstract the vehicle as a Json structure"></a>Abstract the vehicle as a Json structure</h2><h3 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">flowchart RL</span><br><span class="line">    Main</span><br><span class="line">    Model --&gt; Main</span><br><span class="line">    Physics --&gt; Main</span><br><span class="line">    Controller --&gt; Main</span><br><span class="line">    carBody --&gt; Model</span><br><span class="line">    subgraph bodyPart</span><br><span class="line">    part1</span><br><span class="line">    part2</span><br><span class="line">    end</span><br><span class="line">    bodyPart --&gt; carBody</span><br><span class="line">    wheelVis --&gt; Model</span><br><span class="line">    wheelVisGroup --&gt; wheelVis</span><br><span class="line">    subgraph bodyCollider</span><br><span class="line">        boxCol</span><br><span class="line">        sphereCol</span><br><span class="line">    end</span><br><span class="line">    bodyCollider --&gt; collider</span><br><span class="line">    collider --&gt; Physics</span><br><span class="line">    massProperty --&gt; Physics</span><br><span class="line">    wheelProperty --&gt; Physics</span><br><span class="line">    wheelColGroup --&gt; wheelProperty</span><br><span class="line">    subgraph wheelVisGroup</span><br><span class="line">        tyreVis1</span><br><span class="line">        tyreVis2</span><br><span class="line">        tyreVis3</span><br><span class="line">        tyreVis4</span><br><span class="line">    end</span><br><span class="line">    subgraph wheelColGroup</span><br><span class="line">        wheelCol1 </span><br><span class="line">        wheelCol2 </span><br><span class="line">        wheelCol3 </span><br><span class="line">        wheelCol4 </span><br><span class="line">    end</span><br><span class="line">    wheelVisGroup -- oneToOne --&gt; wheelColGroup</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h3 id="Json-example"><a href="#Json-example" class="headerlink" title="Json example"></a>Json example</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;carBody&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;body1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;dir&quot;</span><span class="punctuation">:</span><span class="string">&quot;./CustomModel/car1/body1.obj&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;eulerRotation&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;shader&quot;</span><span class="punctuation">:</span><span class="string">&quot;Standard&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;body2&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;dir&quot;</span><span class="punctuation">:</span><span class="string">&quot;./CustomModel/car1/body2.obj&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;eulerRotation&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;shader&quot;</span><span class="punctuation">:</span><span class="string">&quot;Standard&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;wheel&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;wheel1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;dir&quot;</span><span class="punctuation">:</span><span class="string">&quot;./CustomModel/car1/wheel1.obj&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;shader&quot;</span><span class="punctuation">:</span><span class="string">&quot;Standard&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;physics&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;collider&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;box&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;eulerRotation&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;sphere&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;eulerRotation&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;centerOfMass&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;bodyMass&quot;</span><span class="punctuation">:</span><span class="number">700</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;wheel&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;powered&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span><span class="attr">&quot;steering&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;use&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span><span class="attr">&quot;inverse&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;mass&quot;</span><span class="punctuation">:</span><span class="number">7</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;radius&quot;</span><span class="punctuation">:</span><span class="number">0.5</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;z&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;suspension&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;spring&quot;</span><span class="punctuation">:</span><span class="number">25000</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;damper&quot;</span><span class="punctuation">:</span><span class="number">9000</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;distance&quot;</span><span class="punctuation">:</span><span class="number">0.3</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;initialPosition&quot;</span><span class="punctuation">:</span><span class="number">0.5</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;forwardFriction&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;extremumSlip&quot;</span><span class="punctuation">:</span><span class="number">0.1</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;extremumValue:&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;AsymptoteSlip&quot;</span><span class="punctuation">:</span><span class="number">0.2</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;AsymptoteValue&quot;</span><span class="punctuation">:</span><span class="number">0.8</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;sidewayFriction&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;extremumSlip&quot;</span><span class="punctuation">:</span><span class="number">0.05</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;extremumValue:&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;AsymptoteSlip&quot;</span><span class="punctuation">:</span><span class="number">0.2</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;AsymptoteValue&quot;</span><span class="punctuation">:</span><span class="number">0.8</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>






</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-08-05T09:24:50.000Z" title="8/5/2022, 5:24:50 PM">2022-08-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-15T14:00:21.357Z" title="3/15/2024, 10:00:21 PM">2024-03-15</time></span><span class="level-item"><a class="link-muted" href="/categories/Record/">Record</a></span><span class="level-item">2 minutes read (About 264 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/08/05/Besiege-mod-ModernAirCombat/">Besiege mod &quot;ModernAirCombat&quot;</a></p><div class="content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/css/lightgallery.min.css" /><div class=".article-gallery"><p>mod name: ModernAirCombat</p>
<h1 id="Setup-of-mod"><a href="#Setup-of-mod" class="headerlink" title="Setup of mod"></a>Setup of mod</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$createmod &quot;ModernAirCombat&quot;</span><br></pre></td></tr></table></figure>

<p>modify <code>./Mod.xml</code></p>
<ul>
<li>Author</li>
<li>Description</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$createblock &quot;ModernAirCombat&quot; &quot;SRAAM&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ./Resources/SRAAM</span><br></pre></td></tr></table></figure>
<p>add assets of SRAAM block <code>r73.obj</code>, <code>r73.png</code></p>
<p>modify <code>./Mod.xml</code></p>
<ul>
<li>Add resources<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Mesh name=&quot;SRAAM Mesh&quot; path=&quot;SRAAM\r73.obj&quot;/&gt;</span><br><span class="line">&lt;Texture name=&quot;SRAAM Texture&quot; path=&quot;SRAAM\r73.png&quot;/&gt;</span><br></pre></td></tr></table></figure>
<a href="/SRAAM-apppearance.png" title="SRAAM-apppearance" class="gallery-item"><img src="/SRAAM-apppearance.png" alt="SRAAM-apppearance" title="SRAAM Apppearance"></a></li>
</ul>
<p>modify <code>./SRAAM.xml</code></p>
<ul>
<li>Mass</li>
<li>Mesh name</li>
<li>Texture name</li>
<li>Icon</li>
<li>Colliders</li>
<li>Points</li>
</ul>
<p>create assembly for scripts</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createassembly &quot;ModernAirCombat&quot; compiled MacAssembly ModernAirCombat forceUnityTools</span><br></pre></td></tr></table></figure>

<p>open project with VStudio</p>
<p>edit <code>ModernAirCombat.cs</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using Modding;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">namespace ModernAirCombat</span><br><span class="line">&#123;</span><br><span class="line">    public enum BlockList</span><br><span class="line">    &#123;</span><br><span class="line">        SRAAM = 1,</span><br><span class="line">        MRAAM = 2,</span><br><span class="line">        LRAAM = 3</span><br><span class="line">    &#125;</span><br><span class="line">    public class ModernAirCombat : ModEntryPoint</span><br><span class="line">    &#123;</span><br><span class="line">        public static GameObject Mod;</span><br><span class="line">        public override void OnLoad()</span><br><span class="line">		    &#123;</span><br><span class="line">            Mod = new GameObject(&quot;Morden Firearm Kit Mod&quot;);</span><br><span class="line">            UnityEngine.Object.DontDestroyOnLoad(Mod); \\avoid destroy mod instance when changing levels</span><br><span class="line">            Debug.Log(&quot;Hello, this is Modern Air Combat！&quot;);</span><br><span class="line">            // Called when the mod is loaded.</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Write-Block-Scripts"><a href="#Write-Block-Scripts" class="headerlink" title="Write Block Scripts"></a>Write Block Scripts</h1><p>add a block class <code>SRAAM.cs</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Xml.Serialization;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">using Modding.Modules;</span><br><span class="line">using Modding;</span><br><span class="line">using Modding.Blocks;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">namespace ModernAirCombat</span><br><span class="line">&#123;</span><br><span class="line">    class SRAAMBlock : BlockScript</span><br><span class="line">    &#123;</span><br><span class="line">        public MToggle IFF;</span><br><span class="line">        public MSlider detectAngleSlider;</span><br><span class="line">        private Transform myTransform;      //实例化Transform对象</span><br><span class="line">        private Rigidbody myRigidbody;</span><br><span class="line"></span><br><span class="line">        public override void SafeAwake()</span><br><span class="line">        &#123;</span><br><span class="line">            IFF = AddToggle(&quot;开启友伤&quot;, &quot;IFF&quot;, true);</span><br><span class="line">            detectAngleSlider = AddSlider(&quot;探测角度&quot;, &quot;detection angle&quot;, 45.0f, 0.0f, 150.0f);</span><br><span class="line">        &#125;</span><br><span class="line">        private void Start()</span><br><span class="line">        &#123;</span><br><span class="line">            myTransform = gameObject.GetComponent&lt;Transform&gt;();        //获取相应对象的引用</span><br><span class="line">            myRigidbody = gameObject.GetComponent&lt;Rigidbody&gt;();</span><br><span class="line">            myRigidbody.drag = 2;</span><br><span class="line">            myRigidbody.angularDrag = 4;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public override void OnSimulateStart()</span><br><span class="line">        &#123;</span><br><span class="line">            base.OnSimulateStart();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public override void OnSimulateStop()</span><br><span class="line">        &#123;</span><br><span class="line">            base.OnSimulateStop();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        private void Update() &#123;</span><br><span class="line">            myRigidbody.AddRelativeForce(new Vector3(0, 1, 0), ForceMode.Impulse);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>modify <code>SRAAM.xml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Script&gt;ModernAirCombat.SRAAMBlock&lt;/Script&gt;</span><br></pre></td></tr></table></figure>

</div><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-fullscreen.js@1.2.0/dist/lg-fullscreen.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-autoplay.js@1.2.0/dist/lg-autoplay.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-video.js@1.3.0/dist/lg-video.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-hash.js@1.0.0/dist/lg-hash.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-pager.js@1.0.0/dist/lg-pager.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script></div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/tags/Unity/">Previous</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/tags/Unity/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/tags/Unity/">1</a></li><li><a class="pagination-link is-current" href="/tags/Unity/page/2/">2</a></li></ul></nav></div><style>.column.column-left,.column.column-right{display:none}</style><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Chen Yulin"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Chen Yulin</p><p class="is-size-6 is-block">SJTU student</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Manchester by the Sea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">147</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">151</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Chen-Yulin" target="_blank" rel="noopener" id="widget-follow">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/10/"><span class="level-start"><span class="level-item">October 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">September 2024</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">August 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">July 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">June 2024</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">May 2024</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">April 2024</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">March 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">January 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">December 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">May 2023</span></span><span class="level-end"><span class="level-item tag">47</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-22T14:32:24.000Z">2024-10-22</time></p><p class="title"><a href="/2024/10/22/%5BOBS%5D%E4%BF%A1%E6%81%AF%E5%B7%AE-%E5%AF%86%E9%99%A2%E7%BD%97%E6%96%AF%E5%95%86%E5%AD%A6%E9%99%A2%E5%8F%8C%E5%AD%A6%E4%BD%8D%E9%A1%B9%E7%9B%AE/">密院罗斯商学院双学位项目</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-22T08:30:12.000Z">2024-10-22</time></p><p class="title"><a href="/2024/10/22/%5BOBS%5DQuantum%20Computing-ProxiML%20--%20Building%20Machine%20Learning%20Classifiers%20for%20Photonic%20Quantum%20Computing/">ProxiML -- Building Machine Learning Classifiers for Photonic Quantum Computing</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/10/22/%5BOBS%5D%E6%98%9F%E7%A9%BA%E8%AF%BB%E4%B9%A6%E4%BC%9A-%E3%80%8A%E7%88%B1%E6%AC%B2%E4%B9%8B%E6%AD%BB%E3%80%8B%E8%AF%BB%E4%B9%A6%E4%BC%9Ap12/"><img src="/thumb/Reading.png" alt="《爱欲之死》读书会p12"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-21T23:43:24.000Z">2024-10-22</time></p><p class="title"><a href="/2024/10/22/%5BOBS%5D%E6%98%9F%E7%A9%BA%E8%AF%BB%E4%B9%A6%E4%BC%9A-%E3%80%8A%E7%88%B1%E6%AC%B2%E4%B9%8B%E6%AD%BB%E3%80%8B%E8%AF%BB%E4%B9%A6%E4%BC%9Ap12/">《爱欲之死》读书会p12</a></p><p class="categories"><a href="/categories/%E8%AF%BB%E8%AF%BB%E5%99%9C/">读读噜</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/10/21/%5BOBS%5Dnvim-Godot-Nvim%20Develop%20Environment/"><img src="/thumb/nvim.png" alt="Godot-Nvim Develop Environment"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-20T20:57:13.000Z">2024-10-21</time></p><p class="title"><a href="/2024/10/21/%5BOBS%5Dnvim-Godot-Nvim%20Develop%20Environment/">Godot-Nvim Develop Environment</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/10/18/%5BOBS%5DGame-dev-Jolt%20vs%20PhysX/"><img src="/thumb/Unity.png" alt="Jolt vs PhysX"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-18T10:35:30.000Z">2024-10-18</time></p><p class="title"><a href="/2024/10/18/%5BOBS%5DGame-dev-Jolt%20vs%20PhysX/">Jolt vs PhysX</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/6-D/"><span class="tag">6-D</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AIGC/"><span class="tag">AIGC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AR/"><span class="tag">AR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Behaviorism/"><span class="tag">Behaviorism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CADC/"><span class="tag">CADC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CD/"><span class="tag">CD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CNN/"><span class="tag">CNN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CSharp/"><span class="tag">CSharp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CV/"><span class="tag">CV</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Capstone/"><span class="tag">Capstone</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Control/"><span class="tag">Control</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DD/"><span class="tag">DD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Discrete-Mathematics/"><span class="tag">Discrete-Mathematics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ESP32/"><span class="tag">ESP32</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Education/"><span class="tag">Education</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Embeded-System/"><span class="tag">Embeded-System</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Foundation/"><span class="tag">Foundation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Functional-programming/"><span class="tag">Functional programming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPT/"><span class="tag">GPT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Game/"><span class="tag">Game</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gated-NN/"><span class="tag">Gated-NN</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Haskell/"><span class="tag">Haskell</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Humanism/"><span class="tag">Humanism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IK/"><span class="tag">IK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LSP/"><span class="tag">LSP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Latex/"><span class="tag">Latex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LinearAlgebra/"><span class="tag">LinearAlgebra</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MBTI/"><span class="tag">MBTI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ML/"><span class="tag">ML</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Method/"><span class="tag">Method</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mod/"><span class="tag">Mod</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Music/"><span class="tag">Music</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NLP/"><span class="tag">NLP</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NN/"><span class="tag">NN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PHD/"><span class="tag">PHD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PSY/"><span class="tag">PSY</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Planning/"><span class="tag">Planning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Plugin/"><span class="tag">Plugin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Postgraduate/"><span class="tag">Postgraduate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prefab/"><span class="tag">Prefab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Probability/"><span class="tag">Probability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Pytorch/"><span class="tag">Pytorch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RNN/"><span class="tag">RNN</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROS/"><span class="tag">ROS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reading/"><span class="tag">Reading</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Robot/"><span class="tag">Robot</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SJTU-Lecture/"><span class="tag">SJTU-Lecture</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Script/"><span class="tag">Script</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shader/"><span class="tag">Shader</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Signals-and-Systems/"><span class="tag">Signals and Systems</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Snippets/"><span class="tag">Snippets</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Star-rail/"><span class="tag">Star-rail</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TC/"><span class="tag">TC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tech-Communication/"><span class="tag">Tech Communication</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Transoformer/"><span class="tag">Transoformer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unity/"><span class="tag">Unity</span><span class="tag">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VideoEditing/"><span class="tag">VideoEditing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vim/"><span class="tag">Vim</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WSL/"><span class="tag">WSL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/academic-ability/"><span class="tag">academic-ability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aliyun/"><span class="tag">aliyun</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/app/"><span class="tag">app</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/autonomousDriving/"><span class="tag">autonomousDriving</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/beautify/"><span class="tag">beautify</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bs4/"><span class="tag">bs4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/comment-doc/"><span class="tag">comment&amp;doc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/course/"><span class="tag">course</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dataframe/"><span class="tag">dataframe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debate/"><span class="tag">debate</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debugger/"><span class="tag">debugger</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docs/"><span class="tag">docs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dynamic-programmming/"><span class="tag">dynamic-programmming</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emoation/"><span class="tag">emoation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emotion/"><span class="tag">emotion</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ethic/"><span class="tag">ethic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/family/"><span class="tag">family</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/godot/"><span class="tag">godot</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/health/"><span class="tag">health</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hyprland/"><span class="tag">hyprland</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/idea/"><span class="tag">idea</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jolt/"><span class="tag">jolt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/live2d/"><span class="tag">live2d</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/llm/"><span class="tag">llm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/love/"><span class="tag">love</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lua/"><span class="tag">lua</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mason/"><span class="tag">mason</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/math/"><span class="tag">math</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/meeting/"><span class="tag">meeting</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/meme/"><span class="tag">meme</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/motivation/"><span class="tag">motivation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/movie/"><span class="tag">movie</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/music/"><span class="tag">music</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/numpy/"><span class="tag">numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nvim/"><span class="tag">nvim</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/operational-ability/"><span class="tag">operational-ability</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/oral/"><span class="tag">oral</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pandas/"><span class="tag">pandas</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/path/"><span class="tag">path</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/philosophy/"><span class="tag">philosophy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/physX/"><span class="tag">physX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/physics-engine/"><span class="tag">physics-engine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pio/"><span class="tag">pio</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/plugin/"><span class="tag">plugin</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/quantum/"><span class="tag">quantum</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/recursive/"><span class="tag">recursive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reinforcement-learning/"><span class="tag">reinforcement-learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/repository/"><span class="tag">repository</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/scrap/"><span class="tag">scrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sklearn/"><span class="tag">sklearn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/society/"><span class="tag">society</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/start-business/"><span class="tag">start-business</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/submodule/"><span class="tag">submodule</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/supervised-learning/"><span class="tag">supervised-learning</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tasks/"><span class="tag">tasks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thought/"><span class="tag">thought</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/travel/"><span class="tag">travel</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unsupervised-learning/"><span class="tag">unsupervised-learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/version-management/"><span class="tag">version-management</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/waybar/"><span class="tag">waybar</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wayland/"><span class="tag">wayland</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/website/"><span class="tag">website</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/well-being/"><span class="tag">well-being</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/window-manager/"><span class="tag">window-manager</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ykll/"><span class="tag">ykll</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zen/"><span class="tag">zen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%F0%9F%90%B1/"><span class="tag">🐱</span><span class="tag">1</span></a></div></div></div></div></div></div><style>.column.column-left,.column.column-right{display:block}</style></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img class="logo-img" src="/img/cyllogo.png" alt="Chen Yulin&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/cyllogonight.png" alt="Chen Yulin&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2024 Chen Yulin</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/imaegoo/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Chen-Yulin"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><div class="searchbox-pinyin"><label class="checkbox"><input id="search-by-pinyin" type="checkbox" checked="checked"><span> 拼音检索</span></label></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/imaegoo/pinyin.js" defer></script><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script type="text/javascript" src="/js/imaegoo/imaegoo.js"></script><script type="text/javascript" src="/js/imaegoo/universe.js"></script><!-- hexo injector body_end start -->
<link rel="stylesheet" crossorigin href="https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.css" />
<script type="module" crossorigin src="https://g.alicdn.com/aliyun-documentation/web-chatbot-ui/0.0.11/index.js"></script>
<script>
  window.CHATBOT_CONFIG = {
    endpoint: "https://webchat-bot-iqu-knzhgrvznd.cn-hangzhou.fcapp.run/chat", // 可以替换为 https://{your-fc-http-trigger-domain}/chat
    displayByDefault: false, // 默认不展示 AI 助手聊天框
    aiChatOptions: { // aiChatOptions 中 options 会传递 aiChat 组件，自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat
      conversationOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#conversation-options
        conversationStarters: [
          {prompt: '你是谁？'},
          {prompt: '博主又是谁？'},
          {prompt: '怎么使用这个网站？'},
          {prompt: '博主喜欢的人是？'},
          {prompt: '想要博主联系方式！'},
        ]
      },
      displayOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#display-options
        height: 600,
        width: 350,
      },
      personaOptions: { // 自定义取值参考：https://docs.nlkit.com/nlux/reference/ui/ai-chat#chat-personas
        assistant: {          name: '博主的AI助手，十四行诗参上！',
          // AI 助手的图标
          avatar: 'https://chen-yulin.github.io/thumb/14.png',
          tagline: '要不要试试问下面的问题呢？',
        }
      }
    }
  };
</script>
<style>
  :root {
    /* webchat 工具栏的颜色 */
    --webchat-toolbar-background-color: #1464E4;
    /* webchat 工具栏文字和按钮的颜色 */
    --webchat-toolbar-text-color: #FFF;
  }
  /* webchat 对话框如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */
  .webchat-container {
    z-index: 100;
    bottom: 10px;
    right: 10px;
  }
  /* webchat 的唤起按钮如果被遮挡，可以尝试通过 z-index、bottom、left 等设置来调整位置 */
  .webchat-bubble-tip {
    z-index: 99;
    bottom: 60px;
    right: 20px;
  }
  .webchat-bubble-tip {
    overflow: visible !important;
  }
  @keyframes float {
    0% {
      transform: translateY(0px) translateX(-50%);
    }
    50% {
      transform: translateY(-10px) translateX(-50%);
    }
    100% {
      transform: translateY(0px) translateX(-50%);
    }
  }

  .webchat-bubble-tip::before {
    content: '';
    position: absolute;
    top: -25px;
    left: 70%;
    width: 40px;
    height: 40px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
    animation: float 3s ease-in-out infinite;
  }
</style><script data-pjax src="https://registry.npmmirror.com/oh-my-live2d/latest/files"></script><script>const oml2d = OML2D.loadOml2d({libraryUrls:{"complete":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/complete.js","cubism2":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism2.js","cubism5":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism5.js"},dockedPosition:"left",mobileDisplay:true,models:[{"path":"https://model.oml2d.com/mai/model.json","mobilePosition":[25,0],"mobileScale":0.1,"mobileStageStyle":{"width":125,"height":175},"motionPreloadStrategy":"ALL","position":[50,0],"scale":0.2,"stageStyle":{"width":250,"height":350}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:false,tips:{style: {"width":230,"height":120,"left":"calc(50% - 20px)","top":"-100px"},mobileStyle: {"width":180,"height":80,"left":"calc(50% - 30px)","top":"-100px"},idleTips:{interval:15000,message:function(){
  return axios.get('https://v1.hitokoto.cn?c=i')
    .then(function (response) {
      return response.data.hitokoto ;
    })
    .catch(function (error) {
      console.error(error);
    });
}
}}});</script><!-- hexo injector body_end end --></body></html>